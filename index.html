    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>macOS Portfolio</title>
        <meta name="description" content="A modern macOS-style web UI with interactive windows, Safari browser, and glassmorphic dock.">
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                list-style: none;
            }

            html, body {
                width: 100%;
                height: 100%;
                overflow: hidden;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
                background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #1a1a1a 100%);
                background-attachment: fixed;
            }

            /* ========================================
            MOBILE & DEX MODE DETECTION
            ======================================== */
            .mobile-mode-selector {
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                z-index: 10000;
                background: rgba(20, 25, 40, 0.95);
                -webkit-backdrop-filter: blur(30px);
                backdrop-filter: blur(30px);
                border: 1px solid rgba(255, 255, 255, 0.15);
                border-radius: 20px;
                padding: 40px;
                text-align: center;
                display: none;
                max-width: 90vw;
                box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
            }

            .mobile-mode-selector.show {
                display: block;
                animation: fadeInScale 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            }

            .mobile-mode-selector h2 {
                color: rgba(255, 255, 255, 0.95);
                font-size: 24px;
                margin-bottom: 16px;
                font-weight: 600;
            }

            .mobile-mode-selector p {
                color: rgba(255, 255, 255, 0.7);
                font-size: 14px;
                margin-bottom: 30px;
                line-height: 1.6;
            }

            .mode-buttons {
                display: flex;
                gap: 16px;
                justify-content: center;
                flex-wrap: wrap;
            }

            .mode-btn {
                padding: 16px 24px;
                background: linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.08) 0%, 
                    rgba(255, 255, 255, 0.04) 50%, 
                    rgba(255, 255, 255, 0.06) 100%);
                -webkit-backdrop-filter: blur(20px);
                backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.15);
                border-radius: 12px;
                color: rgba(255, 255, 255, 0.9);
                cursor: pointer;
                font-size: 14px;
                font-weight: 500;
                transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
                min-width: 120px;
                text-align: center;
                position: relative;
                overflow: hidden;
            }

            .mode-btn::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, 
                    transparent, 
                    rgba(255, 255, 255, 0.1), 
                    transparent);
                transition: left 0.5s ease;
            }

            .mode-btn:hover {
                background: linear-gradient(135deg, 
                    rgba(59, 130, 246, 0.2) 0%, 
                    rgba(59, 130, 246, 0.1) 50%, 
                    rgba(59, 130, 246, 0.15) 100%);
                border: 1px solid rgba(59, 130, 246, 0.4);
                transform: translateY(-2px);
                box-shadow: 0 8px 25px rgba(59, 130, 246, 0.2);
            }

            .mode-btn:hover::before {
                left: 100%;
            }

            .mode-btn:active {
                transform: translateY(0px);
            }

            .mode-icon {
                font-size: 24px;
                margin-bottom: 8px;
                display: block;
            }

            /* ========================================
            ROTATION REQUEST OVERLAY
            ======================================== */
            .rotation-request {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.9);
                z-index: 9999;
                display: none;
                align-items: center;
                justify-content: center;
                flex-direction: column;
                text-align: center;
                padding: 20px;
            }

            .rotation-request.show {
                display: flex;
                animation: fadeIn 0.3s ease;
            }

            .rotation-icon {
                font-size: 80px;
                margin-bottom: 20px;
                animation: rotateIcon 2s ease-in-out infinite;
                color: rgba(255, 255, 255, 0.8);
            }

            .rotation-text {
                color: rgba(255, 255, 255, 0.9);
                font-size: 18px;
                font-weight: 600;
                margin-bottom: 12px;
            }

            .rotation-subtext {
                color: rgba(255, 255, 255, 0.6);
                font-size: 14px;
                max-width: 300px;
                line-height: 1.5;
            }

            @keyframes rotateIcon {
                0%, 100% { transform: rotate(0deg); }
                50% { transform: rotate(90deg); }
            }

            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }

            @keyframes fadeInScale {
                from { 
                    opacity: 0; 
                    transform: translate(-50%, -50%) scale(0.9);
                }
                to { 
                    opacity: 1; 
                    transform: translate(-50%, -50%) scale(1);
                }
            }

            /* ========================================
            MOBILE RESPONSIVE STYLES - ENHANCED
            ======================================== */
            @media (max-width: 768px) {
                .desktop.phone-mode {
                    overflow-y: auto;
                    overflow-x: hidden;
                }

                .phone-mode .menu-bar {
                    height: 20px;
                    font-size: 11px;
                    padding: 0 12px;
                }

                .phone-mode .dock-container {
                    bottom: 12px;
                    max-width: 98vw;
                }

                .phone-mode .dock {
                    padding: 8px 12px;
                    gap: 6px;
                    border-radius: 16px;
                }

                .phone-mode .dock-item {
                    width: 40px;
                    height: 40px;
                    border-radius: 12px;
                }

                .phone-mode .dock-item svg,
                .phone-mode .dock-item img {
                    width: 24px;
                    height: 24px;
                }

                .phone-mode .window {
                    min-width: 280px;
                    max-width: 95vw;
                    max-height: 85vh;
                    border-radius: 16px;
                }

                .phone-mode .window-titlebar {
                    height: 28px;
                    font-size: 12px;
                    border-radius: 16px 16px 0 0;
                }

                .phone-mode .window-control-btn {
                    width: 10px;
                    height: 10px;
                }

                .phone-mode .control-center {
                    width: 280px;
                    max-height: 70vh;
                    right: 8px;
                    margin-top: 4px;
                    border-radius: 20px;
                }

                .phone-mode .safari-unified-toolbar {
                    height: 44px;
                    padding: 6px 10px;
                }

                .phone-mode .safari-button {
                    width: 28px;
                    height: 28px;
                    font-size: 13px;
                }

                .phone-mode .address-bar {
                    height: 28px;
                    font-size: 12px;
                    padding: 0 12px;
                    border-radius: 14px;
                }

                .phone-mode .portfolio-window {
                    padding: 16px;
                    font-size: 13px;
                }

                .phone-mode .timeline-content {
                    padding: 16px;
                }

                .phone-mode .timeline-title {
                    font-size: 14px;
                }

                .phone-mode .timeline-description {
                    font-size: 12px;
                }

                /* Phone mode specific adjustments */
                .phone-mode .dock-tooltip {
                    display: none; /* Hide tooltips on phone */
                }

                    display: none;
                }
            }

            @media (max-width: 768px) and (orientation: landscape) {
                .desktop.dex-mode {
                    /* DEX mode uses desktop layout in landscape */
                }
                
                .desktop.dex-mode .rotation-request {
                    display: none;
                }

                .dex-mode .dock-container {
                    bottom: 16px;
                }

                .dex-mode .dock {
                    padding: 8px 12px;
                    gap: 8px;
                }

                .dex-mode .dock-item {
                    width: 44px;
                    height: 44px;
                }

                .dex-mode .window {
                    min-width: 320px;
                }

                .dex-mode .control-center {
                    width: 300px;
                    right: 12px;
                }
            }

            /* ========================================
            DESKTOP WALLPAPER & BACKGROUND
            ======================================== */
            .desktop {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
                z-index: 1;
                overflow: hidden;
            }

            .wallpaper {
                position: absolute;
                width: 100%;
                height: 100%;
                background: 
                    radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.08) 0%, transparent 60%),
                    radial-gradient(circle at 75% 75%, rgba(147, 51, 234, 0.06) 0%, transparent 60%),
                    radial-gradient(circle at 50% 10%, rgba(236, 72, 153, 0.05) 0%, transparent 70%),
                    radial-gradient(circle at 10% 80%, rgba(16, 185, 129, 0.04) 0%, transparent 50%),
                    radial-gradient(circle at 90% 30%, rgba(251, 146, 60, 0.03) 0%, transparent 50%),
                    linear-gradient(135deg, 
                        rgba(15, 23, 42, 0.9) 0%, 
                        rgba(30, 41, 59, 0.8) 25%, 
                        rgba(15, 23, 42, 0.9) 50%, 
                        rgba(30, 41, 59, 0.8) 75%, 
                        rgba(15, 23, 42, 0.9) 100%);
                animation: backgroundFlow 40s ease-in-out infinite;
            }

            .wallpaper::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: 
                    repeating-linear-gradient(
                        45deg,
                        transparent,
                        transparent 100px,
                        rgba(255, 255, 255, 0.005) 100px,
                        rgba(255, 255, 255, 0.005) 102px
                    );
                opacity: 0.5;
            }

            .wallpaper::after {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: radial-gradient(
                    ellipse at center,
                    transparent 0%,
                    rgba(15, 23, 42, 0.2) 70%,
                    rgba(15, 23, 42, 0.4) 100%
                );
            }
            }

            @keyframes backgroundFlow {
                0%, 100% { 
                    background: 
                        radial-gradient(circle at 25% 25%, rgba(59, 130, 246, 0.08) 0%, transparent 60%),
                        radial-gradient(circle at 75% 75%, rgba(147, 51, 234, 0.06) 0%, transparent 60%),
                        radial-gradient(circle at 50% 10%, rgba(236, 72, 153, 0.05) 0%, transparent 70%),
                        radial-gradient(circle at 10% 80%, rgba(16, 185, 129, 0.04) 0%, transparent 50%),
                        radial-gradient(circle at 90% 30%, rgba(251, 146, 60, 0.03) 0%, transparent 50%),
                        linear-gradient(135deg, 
                            rgba(15, 23, 42, 0.9) 0%, 
                            rgba(30, 41, 59, 0.8) 25%, 
                            rgba(15, 23, 42, 0.9) 50%, 
                            rgba(30, 41, 59, 0.8) 75%, 
                            rgba(15, 23, 42, 0.9) 100%);
                }
                25% { 
                    background: 
                        radial-gradient(circle at 70% 30%, rgba(59, 130, 246, 0.08) 0%, transparent 60%),
                        radial-gradient(circle at 30% 80%, rgba(147, 51, 234, 0.06) 0%, transparent 60%),
                        radial-gradient(circle at 80% 60%, rgba(236, 72, 153, 0.05) 0%, transparent 70%),
                        radial-gradient(circle at 20% 20%, rgba(16, 185, 129, 0.04) 0%, transparent 50%),
                        radial-gradient(circle at 60% 90%, rgba(251, 146, 60, 0.03) 0%, transparent 50%),
                        linear-gradient(135deg, 
                            rgba(15, 23, 42, 0.9) 0%, 
                            rgba(30, 41, 59, 0.8) 25%, 
                            rgba(15, 23, 42, 0.9) 50%, 
                            rgba(30, 41, 59, 0.8) 75%, 
                            rgba(15, 23, 42, 0.9) 100%);
                }
                50% { 
                    background: 
                        radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.08) 0%, transparent 60%),
                        radial-gradient(circle at 20% 30%, rgba(147, 51, 234, 0.06) 0%, transparent 60%),
                        radial-gradient(circle at 40% 90%, rgba(236, 72, 153, 0.05) 0%, transparent 70%),
                        radial-gradient(circle at 90% 10%, rgba(16, 185, 129, 0.04) 0%, transparent 50%),
                        radial-gradient(circle at 10% 50%, rgba(251, 146, 60, 0.03) 0%, transparent 50%),
                        linear-gradient(135deg, 
                            rgba(15, 23, 42, 0.9) 0%, 
                            rgba(30, 41, 59, 0.8) 25%, 
                            rgba(15, 23, 42, 0.9) 50%, 
                            rgba(30, 41, 59, 0.8) 75%, 
                            rgba(15, 23, 42, 0.9) 100%);
                }
                75% { 
                    background: 
                        radial-gradient(circle at 30% 60%, rgba(59, 130, 246, 0.08) 0%, transparent 60%),
                        radial-gradient(circle at 80% 40%, rgba(147, 51, 234, 0.06) 0%, transparent 60%),
                        radial-gradient(circle at 20% 20%, rgba(236, 72, 153, 0.05) 0%, transparent 70%),
                        radial-gradient(circle at 70% 90%, rgba(16, 185, 129, 0.04) 0%, transparent 50%),
                        radial-gradient(circle at 50% 10%, rgba(251, 146, 60, 0.03) 0%, transparent 50%),
                        linear-gradient(135deg, 
                            rgba(15, 23, 42, 0.9) 0%, 
                            rgba(30, 41, 59, 0.8) 25%, 
                            rgba(15, 23, 42, 0.9) 50%, 
                            rgba(30, 41, 59, 0.8) 75%, 
                            rgba(15, 23, 42, 0.9) 100%);
                }
            }

            /* ========================================
            TOP MENU BAR
            ======================================== */
            .menu-bar {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 24px;
                background: rgba(20, 20, 25, 0.7);
                -webkit-backdrop-filter: blur(10px);
                backdrop-filter: blur(10px);
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0 16px;
                z-index: 1000;
                font-size: 12px;
                color: rgba(255, 255, 255, 0.9);
                font-weight: 500;
                position: relative;
            }

            .menu-left {
                display: flex;
                align-items: center;
                gap: 12px;
                flex: 1;
            }

            .menu-logo {
                width: 16px;
                height: 16px;
                opacity: 0.8;
            }

            .menu-items {
                display: flex;
                gap: 16px;
                align-items: center;
            }

            .menu-item {
                cursor: pointer;
                opacity: 0.7;
                transition: opacity 0.2s ease;
                white-space: nowrap;
            }

            .menu-item:hover {
                opacity: 1;
            }

            .menu-center {
                flex: 1;
                text-align: center;
                opacity: 0.7;
            }

            .menu-right {
                display: flex;
                align-items: center;
                gap: 8px;
                flex: 1;
                justify-content: flex-end;
                position: relative;
            }

            .menu-icon {
                width: 14px;
                height: 14px;
                opacity: 0.7;
                margin-right: 2px;
            }

            .menu-control-center-btn {
                width: 16px;
                height: 14px;
                background: transparent;
                border: none;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                opacity: 0.7;
                transition: opacity 0.2s ease;
                padding: 0;
                margin: 0 2px;
            }

            .menu-control-center-btn:hover {
                opacity: 1;
            }

            .menu-control-center-btn svg {
                width: 14px;
                height: 14px;
            }

            .menu-time {
                min-width: 50px;
                text-align: right;
            }

            /* ========================================
            DOCK (CSS GRID)
            ======================================== */
            .dock-container {
                position: fixed;
                bottom: 24px;
                left: 50%;
                transform: translateX(-50%);
                z-index: 999;
                max-width: 95vw;
                perspective: 1000px;
            }

            .dock {
                display: grid;
                grid-auto-flow: column;
                grid-auto-columns: 1fr;
                gap: 8px;
                padding: 10px 14px;
                background: rgba(30, 30, 35, 0.75);
                -webkit-backdrop-filter: blur(20px);
                backdrop-filter: blur(20px);
                border-radius: 20px;
                border: 1px solid rgba(255, 255, 255, 0.12);
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.1);
                align-items: end;
                justify-items: center;
                transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }

            .dock-item {
                position: relative;
                width: 48px;
                height: 48px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 14px;
                background: linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.04) 0%, 
                    rgba(255, 255, 255, 0.01) 50%, 
                    rgba(255, 255, 255, 0.03) 100%);
                -webkit-backdrop-filter: blur(20px);
                backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                overflow: visible;
                transform-origin: center bottom;
                transition: transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1), 
                            background 0.3s ease, 
                            border-color 0.3s ease,
                            box-shadow 0.3s ease;
                will-change: transform;
                -webkit-backface-visibility: hidden;
                backface-visibility: hidden;
                box-shadow: 
                    0 4px 20px rgba(0, 0, 0, 0.08),
                    inset 0 1px 0 rgba(255, 255, 255, 0.06);
            }

            .dock-item:hover {
                background: linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.08) 0%, 
                    rgba(255, 255, 255, 0.03) 50%, 
                    rgba(255, 255, 255, 0.06) 100%);
                border: 1px solid rgba(255, 255, 255, 0.15);
                box-shadow: 
                    0 8px 30px rgba(0, 0, 0, 0.12),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1),
                    0 0 25px rgba(59, 130, 246, 0.05);
            }

            .dock-item.magnified {
                transform: scale(1.5) translateY(-8px);
                z-index: 10;
            }

            .dock-item.magnified-neighbor {
                transform: scale(1.25) translateY(-4px);
                z-index: 9;
            }

            .dock-item svg,
            .dock-item img {
                width: 28px;
                height: 28px;
                object-fit: contain;
                filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.25));
                opacity: 0.9;
                transition: opacity 0.2s ease;
            }

            .dock-item:hover svg,
            .dock-item:hover img {
                opacity: 1;
            }

            .dock-tooltip {
                position: absolute;
                bottom: calc(100% + 12px);
                left: 50%;
                transform: translateX(-50%) translateY(6px);
                padding: 8px 14px;
                background: linear-gradient(135deg, 
                    rgba(20, 25, 40, 0.5) 0%, 
                    rgba(30, 35, 50, 0.45) 100%);
                -webkit-backdrop-filter: blur(25px);
                backdrop-filter: blur(25px);
                border-radius: 10px;
                font-size: 11px;
                font-weight: 500;
                white-space: nowrap;
                opacity: 0;
                pointer-events: none;
                border: 1px solid rgba(255, 255, 255, 0.12);
                color: rgba(255, 255, 255, 0.95);
                transition: opacity 0.2s ease, transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
                letter-spacing: 0.3px;
                z-index: 100;
                box-shadow: 
                    0 8px 25px rgba(0, 0, 0, 0.15),
                    inset 0 1px 0 rgba(255, 255, 255, 0.08);
            }

            .dock-item:hover .dock-tooltip {
                opacity: 1;
                transform: translateX(-50%) translateY(0px);
            }

            .dock-indicator {
                position: absolute;
                bottom: 6px;
                width: 4px;
                height: 4px;
                background: rgba(255, 255, 255, 0.7);
                border-radius: 50%;
                opacity: 0;
                box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);
                transition: opacity 0.3s ease;
            }

            .dock-item.active .dock-indicator {
                opacity: 1;
            }

            /* ========================================
            WINDOWS
            ======================================== */
            .windows-container {
                position: fixed;
                top: 24px;
                left: 0;
                width: 100%;
                height: calc(100% - 24px - 80px);
                z-index: 100;
                pointer-events: none;
            }

            .window {
                position: absolute;
                background: rgba(30, 30, 35, 0.85);
                -webkit-backdrop-filter: blur(20px);
                backdrop-filter: blur(20px);
                border: 1px solid rgba(255, 255, 255, 0.15);
                border-radius: 12px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
                pointer-events: auto;
                display: flex;
                flex-direction: column;
                min-width: 300px;
                min-height: 200px;
                transition: box-shadow 0.3s ease;
            }

            .window.active {
                box-shadow: 0 25px 80px rgba(0, 0, 0, 0.6);
                border: 1px solid rgba(255, 255, 255, 0.2);
            }

            .window.inactive {
                opacity: 0.7;
            }

            .window-titlebar {
                display: flex;
                align-items: center;
                justify-content: space-between;
                height: 32px;
                padding: 0 12px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                cursor: grab;
                -webkit-user-select: none;
                user-select: none;
                flex-shrink: 0;
            }

            .window-titlebar:active {
                cursor: grabbing;
            }

            .window-controls {
                display: flex;
                gap: 8px;
                order: -1;
            }

            .window-control-btn {
                width: 12px;
                height: 12px;
                border-radius: 50%;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 6px;
                opacity: 0.6;
                transition: opacity 0.2s ease;
                background: rgba(255, 255, 255, 0.1);
            }

            .window-control-btn:hover {
                opacity: 1;
            }

            .window-control-btn.close {
                background: rgba(255, 59, 48, 0.6);
            }

            .window-control-btn.minimize {
                background: rgba(255, 204, 0, 0.6);
            }

            .window-control-btn.maximize {
                background: rgba(76, 217, 100, 0.6);
            }

            .window-control-btn.close:hover {
                background: rgba(255, 59, 48, 1);
            }

            .window-control-btn.minimize:hover {
                background: rgba(255, 204, 0, 1);
            }

            .window-control-btn.maximize:hover {
                background: rgba(76, 217, 100, 1);
            }

            .window-title {
                flex: 1;
                text-align: center;
                font-size: 13px;
                font-weight: 500;
                color: rgba(255, 255, 255, 0.9);
            }

            .window-content {
                flex: 1;
                overflow: auto;
                padding: 0;
                position: relative;
            }

            .window-resizer {
                position: absolute;
                bottom: 0;
                right: 0;
                width: 20px;
                height: 20px;
                cursor: se-resize;
                background: linear-gradient(135deg, transparent 50%, rgba(255, 255, 255, 0.1) 50%);
            }

            /* Scrollbar styling */
            .window-content::-webkit-scrollbar {
                width: 8px;
            }

            .window-content::-webkit-scrollbar-track {
                background: transparent;
            }

            .window-content::-webkit-scrollbar-thumb {
                background: rgba(255, 255, 255, 0.2);
                border-radius: 4px;
            }

            .window-content::-webkit-scrollbar-thumb:hover {
                background: rgba(255, 255, 255, 0.3);
            }

            /* ========================================
            SAFARI BROWSER
            ======================================== */
            .safari-window {
                flex-direction: column;
            }

            .safari-window .window-titlebar {
                display: none;
            }

            .safari-unified-toolbar {
                display: flex;
                align-items: center;
                gap: 10px;
                height: 50px;
                padding: 8px 12px;
                background: rgba(35, 35, 40, 0.8);
                -webkit-backdrop-filter: blur(12px);
                backdrop-filter: blur(12px);
                border-bottom: 1px solid rgba(255, 255, 255, 0.08);
                flex-shrink: 0;
                cursor: grab;
                -webkit-user-select: none;
                user-select: none;
            }

            .safari-unified-toolbar:active {
                cursor: grabbing;
            }

            .safari-traffic-lights {
                display: flex;
                gap: 8px;
                align-items: center;
                flex-shrink: 0;
                min-width: 70px;
            }

            .safari-traffic-light {
                width: 12px;
                height: 12px;
                border-radius: 50%;
                cursor: pointer;
                transition: all 0.2s ease;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
                flex-shrink: 0;
            }

            .safari-traffic-light.close {
                background: rgba(255, 59, 48, 0.8);
            }

            .safari-traffic-light.close:hover {
                background: rgba(255, 59, 48, 1);
                box-shadow: 0 2px 6px rgba(255, 59, 48, 0.4);
                transform: scale(1.1);
            }

            .safari-traffic-light.minimize {
                background: rgba(255, 204, 0, 0.8);
            }

            .safari-traffic-light.minimize:hover {
                background: rgba(255, 204, 0, 1);
                box-shadow: 0 2px 6px rgba(255, 204, 0, 0.4);
                transform: scale(1.1);
            }

            .safari-traffic-light.maximize {
                background: rgba(76, 217, 100, 0.8);
            }

            .safari-traffic-light.maximize:hover {
                background: rgba(76, 217, 100, 1);
                box-shadow: 0 2px 6px rgba(76, 217, 100, 0.4);
                transform: scale(1.1);
            }

            .safari-nav-buttons {
                display: flex;
                gap: 4px;
                align-items: center;
                flex-shrink: 0;
            }

            .safari-button {
                width: 32px;
                height: 32px;
                display: flex;
                align-items: center;
                justify-content: center;
                background: rgba(255, 255, 255, 0.08);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 6px;
                cursor: pointer;
                transition: all 0.15s ease;
                color: rgba(255, 255, 255, 0.75);
                font-size: 15px;
                font-weight: 600;
                padding: 0;
                flex-shrink: 0;
            }

            .safari-button:hover:not(.disabled) {
                background: rgba(255, 255, 255, 0.12);
                border: 1px solid rgba(255, 255, 255, 0.15);
                color: rgba(255, 255, 255, 0.9);
                transform: scale(1.05);
            }

            .safari-button:active:not(.disabled) {
                background: rgba(255, 255, 255, 0.15);
                transform: scale(0.95);
            }

            .safari-button.disabled {
                opacity: 0.35;
                cursor: not-allowed;
            }

            .safari-address-bar-wrapper {
                flex: 1;
                display: flex;
                align-items: center;
                margin: 0 4px;
                min-width: 200px;
            }

            .address-bar {
                width: 100%;
                height: 32px;
                background: rgba(255, 255, 255, 0.06);
                border: 1px solid rgba(255, 255, 255, 0.12);
                border-radius: 16px;
                padding: 0 16px;
                color: rgba(255, 255, 255, 0.85);
                font-size: 13px;
                transition: all 0.2s ease;
                font-family: inherit;
            }

            .address-bar:focus {
                outline: none;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 0 0 3px rgba(100, 150, 255, 0.15);
                color: rgba(255, 255, 255, 0.95);
            }

            .address-bar::placeholder {
                color: rgba(255, 255, 255, 0.45);
            }

            .safari-action-buttons {
                display: flex;
                gap: 4px;
                align-items: center;
                flex-shrink: 0;
            }

            .iframe-container {
                width: 100%;
                height: 100%;
                position: relative;
                overflow: hidden;
            }

            .iframe-container iframe {
                width: 100%;
                height: 100%;
                border: none;
                display: block;
            }

            .browser-error {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                width: 100%;
                height: 100%;
                color: rgba(255, 255, 255, 0.7);
                text-align: center;
                padding: 40px 20px;
                background: rgba(20, 20, 25, 0.3);
            }

            .browser-error h2 {
                font-size: 18px;
                margin-bottom: 12px;
                color: rgba(255, 255, 255, 0.9);
            }

            .browser-error p {
                font-size: 14px;
                margin-bottom: 20px;
                line-height: 1.5;
            }

            .browser-error button {
                padding: 8px 16px;
                background: rgba(100, 150, 255, 0.8);
                border: 1px solid rgba(100, 150, 255, 0.9);
                border-radius: 8px;
                color: rgba(255, 255, 255, 0.9);
                font-size: 13px;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .browser-error button:hover {
                background: rgba(100, 150, 255, 1);
                transform: scale(1.05);
            }

            .loading-spinner {
                width: 20px;
                height: 20px;
                border: 2px solid rgba(255, 255, 255, 0.2);
                border-top-color: rgba(100, 150, 255, 0.8);
                border-radius: 50%;
                animation: spin 0.8s linear infinite;
            }

            @keyframes spin {
                to { transform: rotate(360deg); }
            }

            .load-indicator {
                position: absolute;
                top: 0;
                left: 0;
                height: 2px;
                background: linear-gradient(90deg, rgba(100, 150, 255, 0.8), transparent);
                width: 0%;
                animation: loading 2.5s ease-in-out;
                z-index: 10;
            }

            @keyframes loading {
                0% { width: 10%; }
                50% { width: 60%; }
                100% { width: 100%; }
            }

            /* ========================================
            CONTROL CENTER - REMOVED DUPLICATE (See new definition below)
            ======================================== */

            .control-item {
                margin-bottom: 12px;
            }

            .control-item:last-child {
                margin-bottom: 0;
            }

            .control-label {
                font-size: 11px;
                color: rgba(255, 255, 255, 0.6);
                margin-bottom: 6px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            .control-slider {
                width: 100%;
                height: 4px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 2px;
                appearance: none;
                cursor: pointer;
                transition: background 0.2s ease;
            }

            .control-slider:hover {
                background: rgba(255, 255, 255, 0.15);
            }

            .control-slider::-webkit-slider-thumb {
                appearance: none;
                width: 16px;
                height: 16px;
                background: rgba(100, 150, 255, 0.8);
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-radius: 50%;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .control-slider::-webkit-slider-thumb:hover {
                background: rgba(100, 150, 255, 1);
                box-shadow: 0 0 12px rgba(100, 150, 255, 0.4);
            }

            .control-slider::-moz-range-thumb {
                width: 16px;
                height: 16px;
                background: rgba(100, 150, 255, 0.8);
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-radius: 50%;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .control-slider::-moz-range-thumb:hover {
                background: rgba(100, 150, 255, 1);
                box-shadow: 0 0 12px rgba(100, 150, 255, 0.4);
            }

            .control-buttons {
                display: flex;
                gap: 8px;
                margin-top: 8px;
            }

            .control-btn {
                flex: 1;
                padding: 8px;
                background: rgba(255, 255, 255, 0.06);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 8px;
                color: rgba(255, 255, 255, 0.7);
                font-size: 12px;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .control-btn:hover {
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.15);
                color: rgba(255, 255, 255, 0.9);
            }

            .control-btn.active {
                background: rgba(100, 150, 255, 0.6);
                border: 1px solid rgba(100, 150, 255, 0.8);
                color: rgba(255, 255, 255, 0.9);
            }

            /* ========================================
            PORTFOLIO CONTENT
            ======================================== */
            .portfolio-window {
                padding: 20px;
                color: rgba(255, 255, 255, 0.9);
                line-height: 1.6;
            }

            .portfolio-window h1 {
                font-size: 24px;
                margin-bottom: 12px;
                color: rgba(255, 255, 255, 0.95);
            }

            .portfolio-window h2 {
                margin-bottom: 12px;
            }

            .portfolio-window p {
                font-size: 14px;
                margin-bottom: 16px;
                opacity: 0.8;
            }

            .portfolio-window a {
                color: rgba(100, 150, 255, 0.9);
                text-decoration: none;
                transition: color 0.2s ease;
            }

            .portfolio-window a:hover {
                color: rgba(100, 150, 255, 1);
                text-decoration: underline;
            }

            .portfolio-window::-webkit-scrollbar {
                width: 10px;
            }

            .portfolio-window::-webkit-scrollbar-track {
                background: rgba(255, 255, 255, 0.05);
                border-radius: 5px;
            }

            .portfolio-window::-webkit-scrollbar-thumb {
                background: rgba(59, 130, 246, 0.4);
                border-radius: 5px;
                transition: background 0.2s ease;
            }

            .portfolio-window::-webkit-scrollbar-thumb:hover {
                background: rgba(59, 130, 246, 0.7);
            }

            /* ========================================
            ENHANCED LIQUID GLASS EFFECTS
            ======================================== */
            .liquid-glass {
                background: linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.05) 0%, 
                    rgba(255, 255, 255, 0.02) 50%, 
                    rgba(255, 255, 255, 0.04) 100%);
                -webkit-backdrop-filter: blur(25px);
                backdrop-filter: blur(25px);
                border: 1px solid rgba(255, 255, 255, 0.15);
                border-radius: 12px;
                box-shadow: 
                    0 8px 32px rgba(0, 0, 0, 0.12),
                    inset 0 1px 0 rgba(255, 255, 255, 0.08);
                position: relative;
                overflow: hidden;
            }

            /* Enhanced liquid glass for windows */
            .window.liquid-glass-window {
                background: linear-gradient(135deg, 
                    rgba(20, 25, 40, 0.4) 0%, 
                    rgba(30, 35, 50, 0.35) 50%, 
                    rgba(20, 25, 40, 0.4) 100%);
                -webkit-backdrop-filter: blur(35px);
                backdrop-filter: blur(35px);
                border: 1px solid rgba(255, 255, 255, 0.12);
                box-shadow: 
                    0 20px 60px rgba(0, 0, 0, 0.25),
                    inset 0 1px 0 rgba(255, 255, 255, 0.08);
            }

            /* Liquid glass dock */
            .dock.liquid-glass-dock {
                background: linear-gradient(135deg, 
                    rgba(20, 25, 40, 0.3) 0%, 
                    rgba(30, 35, 50, 0.25) 50%, 
                    rgba(20, 25, 40, 0.3) 100%);
                -webkit-backdrop-filter: blur(30px);
                backdrop-filter: blur(30px);
                border: 1px solid rgba(255, 255, 255, 0.1);
                box-shadow: 
                    0 15px 45px rgba(0, 0, 0, 0.2),
                    inset 0 1px 0 rgba(255, 255, 255, 0.08);
            }

            /* Liquid glass menu bar */
            .menu-bar.liquid-glass-menu {
                background: linear-gradient(135deg, 
                    rgba(15, 20, 30, 0.4) 0%, 
                    rgba(25, 30, 40, 0.35) 100%);
                -webkit-backdrop-filter: blur(25px);
                backdrop-filter: blur(25px);
                border-bottom: 1px solid rgba(255, 255, 255, 0.08);
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            }

            /* Liquid glass control center */
            .control-center.liquid-glass-cc {
                background: linear-gradient(135deg, 
                    rgba(20, 25, 40, 0.4) 0%, 
                    rgba(30, 35, 50, 0.35) 50%, 
                    rgba(20, 25, 40, 0.4) 100%);
                -webkit-backdrop-filter: blur(40px);
                backdrop-filter: blur(40px);
                border: 1px solid rgba(255, 255, 255, 0.12);
                box-shadow: 
                    0 25px 80px rgba(0, 0, 0, 0.25),
                    inset 0 1px 0 rgba(255, 255, 255, 0.08);
            }

            /* Language buttons */
            .language-btn {
                flex: 1;
                padding: 8px 12px;
                background: linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.06) 0%, 
                    rgba(255, 255, 255, 0.02) 50%, 
                    rgba(255, 255, 255, 0.04) 100%);
                -webkit-backdrop-filter: blur(15px);
                backdrop-filter: blur(15px);
                border: 1px solid rgba(255, 255, 255, 0.15);
                border-radius: 8px;
                color: rgba(255, 255, 255, 0.8);
                cursor: pointer;
                font-size: 11px;
                font-weight: 600;
                transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
                position: relative;
                overflow: hidden;
                box-shadow: 
                    0 4px 15px rgba(0, 0, 0, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
            }

            .language-btn::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, 
                    transparent, 
                    rgba(255, 255, 255, 0.1), 
                    transparent);
                transition: left 0.5s ease;
            }

            .language-btn:hover {
                background: linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.1) 0%, 
                    rgba(255, 255, 255, 0.05) 50%, 
                    rgba(255, 255, 255, 0.08) 100%);
                border: 1px solid rgba(59, 130, 246, 0.3);
                color: rgba(255, 255, 255, 0.95);
                transform: translateY(-1px);
                box-shadow: 
                    0 6px 20px rgba(0, 0, 0, 0.15),
                    inset 0 1px 0 rgba(255, 255, 255, 0.15),
                    0 0 20px rgba(59, 130, 246, 0.1);
            }

            .language-btn:hover::before {
                left: 100%;
            }

            .language-btn[data-lang="en"].active,
            .language-btn[data-lang="th"].active {
                background: linear-gradient(135deg, 
                    rgba(59, 130, 246, 0.3) 0%, 
                    rgba(59, 130, 246, 0.2) 50%, 
                    rgba(59, 130, 246, 0.25) 100%);
                border: 1px solid rgba(59, 130, 246, 0.5);
                color: rgba(255, 255, 255, 1);
                box-shadow: 
                    0 6px 20px rgba(59, 130, 246, 0.2),
                    inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }

            /* ========================================
            MINIMAL FLOATING PARTICLES EFFECT
            ======================================== */
            .particles {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 1;
            }

            .particle {
                position: absolute;
                width: 1px;
                height: 1px;
                background: rgba(100, 150, 255, 0.4);
                border-radius: 50%;
                animation: float 20s linear infinite;
                box-shadow: 0 0 2px rgba(100, 150, 255, 0.3);
            }

            .particle:nth-child(2n) {
                background: rgba(147, 51, 234, 0.4);
                box-shadow: 0 0 2px rgba(147, 51, 234, 0.3);
                animation-duration: 25s;
            }

            .particle:nth-child(3n) {
                background: rgba(255, 255, 255, 0.2);
                box-shadow: 0 0 1px rgba(255, 255, 255, 0.2);
                animation-duration: 30s;
            }

            @keyframes float {
                0% {
                    transform: translateY(100vh) translateX(0px);
                    opacity: 0;
                }
                10% {
                    opacity: 0.6;
                }
                90% {
                    opacity: 0.6;
                }
                100% {
                    transform: translateY(-10vh) translateX(50px);
                    opacity: 0;
                }
            }

            /* ========================================
            MINIMAL LIQUID GLASS TIMELINE
            ======================================== */
            .timeline {
                position: relative;
                padding: 30px 0;
                margin: 20px 0;
            }

            .timeline::before {
                content: '';
                position: absolute;
                left: 30px;
                top: 0;
                bottom: 0;
                width: 2px;
                background: linear-gradient(180deg, 
                    rgba(59, 130, 246, 0.8) 0%, 
                    rgba(147, 51, 234, 0.8) 50%, 
                    rgba(59, 130, 246, 0.8) 100%);
                border-radius: 1px;
                box-shadow: 0 0 8px rgba(59, 130, 246, 0.3);
            }

            .timeline-item {
                position: relative;
                padding-left: 70px;
                margin-bottom: 35px;
                animation: slideInUp 0.6s ease forwards;
                opacity: 0;
            }

            .timeline-item:nth-child(1) { animation-delay: 0.2s; }
            .timeline-item:nth-child(2) { animation-delay: 0.4s; }
            .timeline-item:nth-child(3) { animation-delay: 0.6s; }
            .timeline-item:nth-child(4) { animation-delay: 0.8s; }

            .timeline-dot {
                position: absolute;
                left: 22px;
                top: 10px;
                width: 16px;
                height: 16px;
                background: linear-gradient(135deg, #3b82f6, #9333ea);
                border: 3px solid rgba(255, 255, 255, 0.8);
                border-radius: 50%;
                box-shadow: 
                    0 0 0 4px rgba(59, 130, 246, 0.2),
                    0 2px 8px rgba(59, 130, 246, 0.3);
                z-index: 2;
            }

            .timeline-content {
                background: linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.04) 0%, 
                    rgba(255, 255, 255, 0.02) 50%, 
                    rgba(255, 255, 255, 0.03) 100%);
                -webkit-backdrop-filter: blur(25px);
                backdrop-filter: blur(25px);
                border: 1px solid rgba(255, 255, 255, 0.12);
                border-radius: 14px;
                padding: 20px;
                position: relative;
                overflow: hidden;
                transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
                box-shadow: 
                    0 8px 30px rgba(0, 0, 0, 0.08),
                    inset 0 1px 0 rgba(255, 255, 255, 0.06);
            }

            .timeline-content::before {
                content: '';
                position: absolute;
                left: -8px;
                top: 22px;
                width: 0;
                height: 0;
                border-top: 6px solid transparent;
                border-bottom: 6px solid transparent;
                border-right: 8px solid rgba(255, 255, 255, 0.04);
            }

            .timeline-content::after {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, 
                    transparent, 
                    rgba(255, 255, 255, 0.05), 
                    transparent);
                transition: left 0.6s ease;
            }

            .timeline-content:hover {
                background: linear-gradient(135deg, 
                    rgba(255, 255, 255, 0.08) 0%, 
                    rgba(255, 255, 255, 0.04) 50%, 
                    rgba(255, 255, 255, 0.06) 100%);
                border: 1px solid rgba(59, 130, 246, 0.25);
                transform: translateY(-3px);
                box-shadow: 
                    0 12px 40px rgba(0, 0, 0, 0.12),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1),
                    0 0 30px rgba(59, 130, 246, 0.08);
            }

            .timeline-content:hover::after {
                left: 100%;
            }

            .timeline-year {
                font-size: 12px;
                color: rgba(59, 130, 246, 0.9);
                font-weight: 600;
                margin-bottom: 6px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            .timeline-title {
                font-size: 16px;
                font-weight: 600;
                color: rgba(255, 255, 255, 0.95);
                margin-bottom: 8px;
            }

            .timeline-subtitle {
                font-size: 13px;
                color: rgba(147, 51, 234, 0.8);
                margin-bottom: 10px;
                font-style: italic;
                font-weight: 500;
            }

            .timeline-description {
                font-size: 13px;
                color: rgba(255, 255, 255, 0.8);
                line-height: 1.6;
                margin-bottom: 12px;
            }

            .timeline-skills {
                display: flex;
                flex-wrap: wrap;
                gap: 6px;
                margin-top: 12px;
            }

            .timeline-skill {
                background: rgba(59, 130, 246, 0.2);
                border: 1px solid rgba(59, 130, 246, 0.3);
                border-radius: 12px;
                padding: 4px 10px;
                font-size: 11px;
                color: rgba(100, 150, 255, 0.9);
                font-weight: 500;
                transition: all 0.2s ease;
            }

            .timeline-skill:hover {
                background: rgba(59, 130, 246, 0.3);
                transform: translateY(-1px);
            }
            @keyframes windowSlideIn {
                from {
                    opacity: 0;
                    transform: scale(0.95);
                }
                to {
                    opacity: 1;
                    transform: scale(1);
                }
            }

            .window {
                animation: windowSlideIn 0.3s cubic-bezier(0.23, 1, 0.320, 1);
            }

            @keyframes minimize {
                to {
                    opacity: 0;
                    transform: scale(0.1);
                }
            }

            @keyframes dockBounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-12px); }
            }

            @keyframes slideInUp {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }

            /* ========================================
            CONTROL CENTER
            ======================================== */
            .control-center-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 1999;
                opacity: 0;
                visibility: hidden;
                pointer-events: none;
                transition: all 0.22s cubic-bezier(0.25, 0.8, 0.25, 1);
            }

            .control-center-overlay.active {
                opacity: 1;
                visibility: visible;
                pointer-events: auto;
            }

            .control-center {
                position: absolute;
                top: 100%;
                right: 0;
                width: 320px;
                max-height: calc(100vh - 120px);
                background: rgba(30, 30, 30, 0.65);
                -webkit-backdrop-filter: blur(30px);
                backdrop-filter: blur(30px);
                border-radius: 20px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                padding: 16px;
                box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
                z-index: 2001;
                opacity: 0;
                visibility: hidden;
                transform: scale(0.95);
                transform-origin: top right;
                pointer-events: none;
                transition: all 0.22s cubic-bezier(0.25, 0.8, 0.25, 1);
                margin-top: 8px;
            }

            .control-center.active {
                opacity: 1;
                visibility: visible;
                transform: scale(1);
                pointer-events: auto;
            }

            .cc-section {
                margin-bottom: 16px;
            }

            .cc-section:last-child {
                margin-bottom: 0;
            }

            /* Quick Toggles Grid */
            .cc-grid-2x2 {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 12px;
            }

            .cc-toggle {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 8px;
                padding: 16px 12px;
                background: rgba(255, 255, 255, 0.08);
                border: 1px solid rgba(255, 255, 255, 0.12);
                border-radius: 14px;
                cursor: pointer;
                transition: all 0.2s ease;
                color: rgba(255, 255, 255, 0.7);
                font-size: 12px;
                font-weight: 500;
            }

            .cc-toggle svg {
                width: 24px;
                height: 24px;
                opacity: 0.8;
                transition: opacity 0.2s ease;
            }

            .cc-toggle:hover {
                background: rgba(255, 255, 255, 0.12);
                color: rgba(255, 255, 255, 0.9);
            }

            .cc-toggle:hover svg {
                opacity: 1;
            }

            .cc-toggle.active {
                background: rgba(59, 130, 246, 0.25);
                border: 1px solid rgba(59, 130, 246, 0.4);
                color: rgba(100, 150, 255, 1);
            }

            .cc-toggle.active svg {
                opacity: 1;
            }

            /* Sliders */
            .cc-slider-item {
                display: flex;
                align-items: center;
                gap: 12px;
                padding: 12px 0;
                margin-bottom: 12px;
            }

            .cc-slider-item:last-child {
                margin-bottom: 0;
            }

            .cc-slider-icon {
                width: 20px;
                height: 20px;
                flex-shrink: 0;
                color: rgba(255, 255, 255, 0.7);
            }

            .cc-slider {
                flex: 1;
                height: 4px;
                -webkit-appearance: none;
                appearance: none;
                background: rgba(255, 255, 255, 0.15);
                border-radius: 2px;
                outline: none;
                cursor: pointer;
            }

            .cc-slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 16px;
                height: 16px;
                background: rgba(100, 150, 255, 0.9);
                border-radius: 50%;
                cursor: pointer;
                box-shadow: 0 2px 8px rgba(100, 150, 255, 0.4);
                transition: all 0.2s ease;
            }

            .cc-slider::-webkit-slider-thumb:hover {
                background: rgba(100, 150, 255, 1);
                box-shadow: 0 4px 12px rgba(100, 150, 255, 0.5);
                transform: scale(1.1);
            }

            .cc-slider::-moz-range-thumb {
                width: 16px;
                height: 16px;
                background: rgba(100, 150, 255, 0.9);
                border-radius: 50%;
                cursor: pointer;
                border: none;
                box-shadow: 0 2px 8px rgba(100, 150, 255, 0.4);
                transition: all 0.2s ease;
            }

            .cc-slider::-moz-range-thumb:hover {
                background: rgba(100, 150, 255, 1);
                box-shadow: 0 4px 12px rgba(100, 150, 255, 0.5);
                transform: scale(1.1);
            }

            .cc-slider::-webkit-slider-runnable-track {
                background: rgba(255, 255, 255, 0.15);
                height: 4px;
                border-radius: 2px;
            }

            .cc-slider::-moz-range-track {
                background: transparent;
                border: none;
            }

            .cc-slider::-moz-range-progress {
                background: rgba(100, 150, 255, 0.5);
                height: 4px;
                border-radius: 2px;
            }

            .cc-slider-value {
                min-width: 40px;
                text-align: right;
                font-size: 12px;
                color: rgba(255, 255, 255, 0.6);
                font-weight: 500;
            }

            /* Media Panel */
            .cc-media-panel {
                background: rgba(255, 255, 255, 0.08);
                border: 1px solid rgba(255, 255, 255, 0.12);
                border-radius: 14px;
                padding: 12px;
                margin-bottom: 0;
            }

            .cc-media-header {
                font-size: 11px;
                color: rgba(255, 255, 255, 0.5);
                text-transform: uppercase;
                letter-spacing: 0.5px;
                margin-bottom: 8px;
                padding: 0 4px;
            }

            .cc-media-app {
                font-weight: 600;
            }

            .cc-media-info {
                margin-bottom: 12px;
                padding: 8px;
                background: rgba(0, 0, 0, 0.2);
                border-radius: 8px;
            }

            .cc-media-title {
                font-size: 13px;
                color: rgba(255, 255, 255, 0.8);
                font-weight: 500;
            }

            .cc-media-controls {
                display: flex;
                justify-content: center;
                gap: 8px;
            }

            .cc-media-btn {
                width: 40px;
                height: 40px;
                background: rgba(59, 130, 246, 0.2);
                border: 1px solid rgba(59, 130, 246, 0.3);
                border-radius: 10px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                color: rgba(100, 150, 255, 0.9);
                transition: all 0.2s ease;
            }

            .cc-media-btn svg {
                width: 18px;
                height: 18px;
            }

            .cc-media-btn:hover {
                background: rgba(59, 130, 246, 0.3);
                border: 1px solid rgba(59, 130, 246, 0.5);
                color: rgba(100, 150, 255, 1);
            }

            .cc-media-btn:active {
                transform: scale(0.95);
            }

            /* Animations */
            @keyframes ccSlideDown {
                from {
                    opacity: 0;
                    transform: translateY(-10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .control-center.active {
                animation: ccSlideDown 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
            }
        </style>
    </head>
    <body>
        <!-- Desktop Wallpaper -->
        <div class="desktop" id="desktop">
            <div class="wallpaper"></div>
            <div class="particles" id="particles"></div>
        </div>

        <!-- Mobile Mode Selector -->
        <div class="mobile-mode-selector" id="mobile-mode-selector">
            <h2 data-translate="chooseMobileMode">Choose Mobile Mode</h2>
            <p data-translate="chooseMobileDesc">Select how you want to experience this portfolio on your mobile device</p>
            <div class="mode-buttons">
                <div class="mode-btn" onclick="setMobileMode('dex')">
                    <span class="mode-icon"></span>
                    <div>
                        <strong data-translate="dexMode">DeX Mode</strong>
                        <div style="font-size: 12px; opacity: 0.7; margin-top: 4px;" data-translate="dexModeDesc">Desktop experience (landscape)</div>
                    </div>
                </div>
                <div class="mode-btn" onclick="setMobileMode('phone')">
                    <span class="mode-icon"></span>
                    <div>
                        <strong data-translate="phoneMode">Phone Mode</strong>
                        <div style="font-size: 12px; opacity: 0.7; margin-top: 4px;" data-translate="phoneModeDesc">Mobile optimized</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rotation Request Overlay -->
        <div class="rotation-request" id="rotation-request">
            <div class="rotation-icon"></div>
            <div class="rotation-text" data-translate="rotateDevice">Please rotate your device</div>
            <div class="rotation-subtext" data-translate="rotateDeviceDesc">DeX mode works best in landscape orientation for the full desktop experience</div>
        </div>

        <!-- Menu Bar -->
        <div class="menu-bar liquid-glass-menu">
            <div class="menu-left">
                <svg class="menu-logo" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7zm0 12c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5z" fill="currentColor" opacity="0.8"/>
                </svg>
                <div class="menu-items">
                    <div class="menu-item">Finder</div>
                    <div class="menu-item">File</div>
                    <div class="menu-item">Edit</div>
                    <div class="menu-item">View</div>
                </div>
            </div>
            <div class="menu-center"></div>
            <div class="menu-right">
                <svg class="menu-icon" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11 9V5c0-.6-.4-1-1-1H2c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1h8c.6 0 1-.4 1-1v-4l3 3v-6l-3 3z"/>
                </svg>
                <button class="menu-control-center-btn" id="menu-control-center-btn" title="Control Center">
                    <svg viewBox="0 0 16 16" fill="none" stroke="white" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg">
                        <rect x="1" y="1" width="14" height="14" rx="2"/>
                        <circle cx="5" cy="5" r="1.5"/>
                        <circle cx="11" cy="5" r="1.5"/>
                        <circle cx="5" cy="11" r="1.5"/>
                        <circle cx="11" cy="11" r="1.5"/>
                    </svg>
                </button>
                <div class="menu-time" id="menu-time">12:00</div>
                
                <!-- Control Center Overlay -->
                <div class="control-center-overlay" id="control-center-overlay"></div>
                
                <!-- Control Center Panel -->
                <div class="control-center liquid-glass-cc" id="control-center">
                    <!-- Quick Toggles Section -->
                    <div class="cc-section">
                        <div class="cc-grid-2x2">
                            <div class="cc-toggle" id="cc-wifi">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M5 12.55a11 11 0 0 1 14.08 0M1.42 9a16 16 0 0 1 21.16 0M8.53 16.11a6 6 0 0 1 6.94 0"/>
                                </svg>
                                <span>Wi-Fi</span>
                            </div>
                            <div class="cc-toggle" id="cc-bluetooth">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                    <polyline points="6 15 12 9 18 15"></polyline>
                                </svg>
                                <span>Bluetooth</span>
                            </div>
                            <div class="cc-toggle" id="cc-airdrop">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="5" r="3"/>
                                    <path d="M7 14s1.5-2 5-2 5 2 5 2"/>
                                    <path d="M4.22 19.78A9 9 0 0 0 19.78 4.22"/>
                                </svg>
                                <span>AirDrop</span>
                            </div>
                            <div class="cc-toggle" id="cc-focus">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="1"/>
                                    <path d="M19.07 4.93a10 10 0 0 0-14.14 0M23 12a11.05 11.05 0 0 1-9 10.74M1 12a11.05 11.05 0 0 0 9 10.74M12 2.04a9.81 9.81 0 0 0-9 10.74"/>
                                </svg>
                                <span>Focus</span>
                            </div>
                        </div>
                    </div>
                    <!-- Sliders Section -->
                    <div class="cc-section">
                        <div class="cc-slider-item">
                            <svg class="cc-slider-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            </svg>
                            <input type="range" class="cc-slider" id="cc-volume" min="0" max="100" value="70">
                            <span class="cc-slider-value">70%</span>
                        </div>
                        <div class="cc-slider-item">
                            <svg class="cc-slider-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <circle cx="12" cy="12" r="5"/>
                                <line x1="12" y1="1" x2="12" y2="3"/>
                                <line x1="12" y1="21" x2="12" y2="23"/>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                                <line x1="1" y1="12" x2="3" y2="12"/>
                                <line x1="21" y1="12" x2="23" y2="12"/>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                            </svg>
                            <input type="range" class="cc-slider" id="cc-brightness" min="0" max="100" value="80">
                            <span class="cc-slider-value">80%</span>
                        </div>
                        <!-- Language Control -->
                        <div class="cc-slider-item">
                            <svg class="cc-slider-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="2" y1="12" x2="22" y2="12"/>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                            </svg>
                            <div style="flex: 1; display: flex; gap: 8px;">
                                <button onclick="setLanguage('en'); location.reload();" class="language-btn" data-lang="en">
                                    <span>EN</span>
                                </button>
                                <button onclick="setLanguage('th'); location.reload();" class="language-btn" data-lang="th">
                                    <span>TH</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- Media Panel Section -->
                    <div class="cc-section cc-media-panel">
                        <div class="cc-media-header">
                            <span class="cc-media-app">Portfolio App</span>
                        </div>
                        <div class="cc-media-info">
                            <div class="cc-media-title">Now Playing</div>
                        </div>
                        <div class="cc-media-controls">
                            <button class="cc-media-btn">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Windows Container -->
        <div class="windows-container" id="windows-container"></div>

        <!-- Dock -->
        <div class="dock-container">
            <div class="dock liquid-glass-dock" id="dock">
                <div class="dock-item" data-app="about">
                    <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="4" y="4" width="24" height="24" rx="4" stroke="white" stroke-width="1.5" opacity="0.8"/>
                        <circle cx="16" cy="13" r="1.5" fill="white" opacity="0.8"/>
                        <path d="M15 17V16H17V21H15" stroke="white" stroke-width="1" opacity="0.8" stroke-linecap="round"/>
                    </svg>
                    <div class="dock-tooltip">About</div>
                </div>
                <div class="dock-item" data-app="portfolio">
                    <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="4" y="6" width="24" height="20" rx="2" stroke="white" stroke-width="1.5" opacity="0.8"/>
                        <path d="M4 12H28" stroke="white" stroke-width="1" opacity="0.6"/>
                        <path d="M8 10V8H24V10" stroke="white" stroke-width="1" opacity="0.6"/>
                    </svg>
                    <div class="dock-tooltip">Portfolio</div>
                </div>
                <div class="dock-item" data-app="showcase">
                    <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="4" y="6" width="24" height="18" rx="2" stroke="white" stroke-width="1.5" opacity="0.8"/>
                        <path d="M4 10H28" stroke="white" stroke-width="1" opacity="0.6"/>
                        <circle cx="7" cy="8" r="0.5" fill="white" opacity="0.7"/>
                        <circle cx="9" cy="8" r="0.5" fill="white" opacity="0.7"/>
                        <circle cx="11" cy="8" r="0.5" fill="white" opacity="0.7"/>
                        <rect x="8" y="13" width="16" height="2" rx="1" fill="white" opacity="0.6"/>
                        <rect x="8" y="16" width="12" height="2" rx="1" fill="white" opacity="0.5"/>
                        <rect x="8" y="19" width="14" height="2" rx="1" fill="white" opacity="0.4"/>
                        <path d="M22 13L25 16L22 19" stroke="white" stroke-width="1" opacity="0.7" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div class="dock-tooltip">Showcase</div>
                </div>
                <div class="dock-item" data-app="contact">
                    <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="4" y="5" width="24" height="22" rx="2" stroke="white" stroke-width="1.5" opacity="0.8"/>
                        <path d="M4 9L16 16L28 9" stroke="white" stroke-width="1" opacity="0.6" stroke-linejoin="round"/>
                    </svg>
                    <div class="dock-tooltip">Contact</div>
                </div>
                <div class="dock-item" data-app="education">
                    <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="6" y="8" width="20" height="16" rx="2" stroke="white" stroke-width="1.5" opacity="0.8"/>
                        <path d="M6 12H26" stroke="white" stroke-width="1" opacity="0.6"/>
                        <circle cx="10" cy="16" r="1" fill="white" opacity="0.7"/>
                        <circle cx="16" cy="16" r="1" fill="white" opacity="0.7"/>
                        <circle cx="22" cy="16" r="1" fill="white" opacity="0.7"/>
                        <path d="M8 20L12 18L16 20L20 18L24 20" stroke="white" stroke-width="1" opacity="0.6" stroke-linecap="round"/>
                        <path d="M16 4L18 6L16 8L14 6Z" fill="white" opacity="0.6"/>
                    </svg>
                    <div class="dock-tooltip">Education</div>
                </div>


        <script>
            /* ========================================
            SYSTEM STATE
            ======================================== */
            const system = {
                windows: [],
                activeWindow: null,
                dockMagnification: 1,
                draggingWindow: null,
                resizingWindow: null,
                controlCenterOpen: false,
                brightness: 80,
                volume: 70,
                wifi: true,
                bluetooth: false,
                airdrop: false,
                focus: false
            };

            // Simple mobile detection
            const isMobile = window.innerWidth <= 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

            /* ========================================
            MENU BAR CLOCK
            ======================================== */
            function updateClock() {
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                document.getElementById('menu-time').textContent = `${hours}:${minutes}`;
            }
            updateClock();
            setInterval(updateClock, 60000);

            /* ========================================
            CONTROL CENTER SYSTEM
            ======================================== */
            const controlCenter = {
                panel: document.getElementById('control-center'),
                overlay: document.getElementById('control-center-overlay'),
                button: document.getElementById('menu-control-center-btn'),
                isOpen: false,

                open() {
                    if (this.isOpen) return;
                    this.panel.classList.add('active');
                    this.overlay.classList.add('active');
                    this.isOpen = true;
                    system.controlCenterOpen = true;
                },

                close() {
                    if (!this.isOpen) return;
                    this.panel.classList.remove('active');
                    this.overlay.classList.remove('active');
                    this.isOpen = false;
                    system.controlCenterOpen = false;
                },

                toggle() {
                    this.isOpen ? this.close() : this.open();
                }
            };

            // Control Center Button Event
            controlCenter.button.addEventListener('click', (e) => {
                e.stopPropagation();
                controlCenter.toggle();
            });

            // Close on overlay click
            controlCenter.overlay.addEventListener('click', (e) => {
                e.stopPropagation();
                controlCenter.close();
            });

            // Prevent closing when clicking inside control center
            controlCenter.panel.addEventListener('click', (e) => {
                e.stopPropagation();
            });

            // Close on ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && controlCenter.isOpen) {
                    controlCenter.close();
                }
            });

            // Quick Toggle Functions
            function toggleWifi() {
                system.wifi = !system.wifi;
                const btn = document.getElementById('cc-wifi');
                btn.classList.toggle('active', system.wifi);
            }

            function toggleBluetooth() {
                system.bluetooth = !system.bluetooth;
                const btn = document.getElementById('cc-bluetooth');
                btn.classList.toggle('active', system.bluetooth);
            }

            function toggleAirDrop() {
                system.airdrop = !system.airdrop;
                const btn = document.getElementById('cc-airdrop');
                btn.classList.toggle('active', system.airdrop);
            }

            function toggleFocus() {
                system.focus = !system.focus;
                const btn = document.getElementById('cc-focus');
                btn.classList.toggle('active', system.focus);
            }

            // Toggle Event Listeners
            document.getElementById('cc-wifi').addEventListener('click', toggleWifi);
            document.getElementById('cc-bluetooth').addEventListener('click', toggleBluetooth);
            document.getElementById('cc-airdrop').addEventListener('click', toggleAirDrop);
            document.getElementById('cc-focus').addEventListener('click', toggleFocus);

            // Volume Control
            const volumeSlider = document.getElementById('cc-volume');
            const volumeValue = volumeSlider.parentElement.querySelector('.cc-slider-value');
            volumeSlider.addEventListener('input', (e) => {
                system.volume = parseInt(e.target.value);
                volumeValue.textContent = system.volume + '%';
            });

            // Brightness Control
            const brightnessSlider = document.getElementById('cc-brightness');
            const brightnessValue = brightnessSlider.parentElement.querySelector('.cc-slider-value');
            brightnessSlider.addEventListener('input', (e) => {
                system.brightness = parseInt(e.target.value);
                brightnessValue.textContent = system.brightness + '%';
                
                // Apply brightness to wallpaper
                const wallpaper = document.querySelector('.wallpaper');
                if (wallpaper) {
                    const opacity = (system.brightness / 100) * 0.7 + 0.3;
                    wallpaper.style.opacity = opacity;
                }
            });

            // Initialize toggle states
            document.getElementById('cc-wifi').classList.toggle('active', system.wifi);
            document.getElementById('cc-bluetooth').classList.toggle('active', system.bluetooth);
            document.getElementById('cc-airdrop').classList.toggle('active', system.airdrop);
            document.getElementById('cc-focus').classList.toggle('active', system.focus);

            // Initialize language buttons
            function updateLanguageButtons() {
                const currentLang = window.appState?.language || 'en';
                const langButtons = document.querySelectorAll('.language-btn');
                langButtons.forEach(btn => {
                    const lang = btn.getAttribute('data-lang');
                    if (lang === currentLang) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
            }

            // Call on load
            setTimeout(updateLanguageButtons, 100);

            /* ========================================
            WINDOW CLASS
            ======================================== */
            class AppWindow {
                constructor(options) {
                    this.id = Math.random().toString(36).substr(2, 9);
                    this.title = options.title || 'Untitled';
                    this.app = options.app || 'default';
                    this.width = options.width || 600;
                    this.height = options.height || 400;
                    this.x = options.x || Math.random() * 200 + 100;
                    this.y = options.y || Math.random() * 200 + 100;
                    this.content = options.content || '';
                    this.isMinimized = false;
                    this.element = null;
                    this.create();
                    system.windows.push(this);
                    this.focus();
                }

                create() {
                    this.element = document.createElement('div');
                    this.element.className = 'window liquid-glass-window active';
                    this.element.id = `window-${this.id}`;
                    
                    // Adjust window size for mobile
                    if (isMobile) {
                        this.width = Math.min(this.width, window.innerWidth * 0.95);
                        this.height = Math.min(this.height, window.innerHeight * 0.80);
                        this.x = Math.max(10, Math.min(this.x, window.innerWidth - this.width - 10));
                        this.y = Math.max(30, Math.min(this.y, window.innerHeight - this.height - 100));
                    }
                    
                    this.element.style.left = this.x + 'px';
                    this.element.style.top = this.y + 'px';
                    this.element.style.width = this.width + 'px';
                    this.element.style.height = this.height + 'px';

                    const titleBar = document.createElement('div');
                    titleBar.className = 'window-titlebar';

                    const controls = document.createElement('div');
                    controls.className = 'window-controls';

                    const closeBtn = document.createElement('div');
                    closeBtn.className = 'window-control-btn close';
                    closeBtn.addEventListener('click', () => this.close());

                    const minimizeBtn = document.createElement('div');
                    minimizeBtn.className = 'window-control-btn minimize';
                    minimizeBtn.addEventListener('click', () => this.minimize());

                    const maximizeBtn = document.createElement('div');
                    maximizeBtn.className = 'window-control-btn maximize';
                    maximizeBtn.addEventListener('click', () => this.maximize());

                    controls.appendChild(closeBtn);
                    controls.appendChild(minimizeBtn);
                    controls.appendChild(maximizeBtn);

                    const title = document.createElement('div');
                    title.className = 'window-title';
                    title.textContent = this.title;

                    titleBar.appendChild(controls);
                    titleBar.appendChild(title);

                    const content = document.createElement('div');
                    content.className = 'window-content';
                    content.innerHTML = this.content;

                    const resizer = document.createElement('div');
                    resizer.className = 'window-resizer';

                    this.element.appendChild(titleBar);
                    this.element.appendChild(content);
                    this.element.appendChild(resizer);

                    document.getElementById('windows-container').appendChild(this.element);

                    this.setupDragging(titleBar);
                    this.setupResizing(resizer);
                    this.setupPointerEvents();
                }

                setupPointerEvents() {
                    this.element.addEventListener('mousedown', () => {
                        if (system.activeWindow !== this) {
                            this.focus();
                        }
                    });
                }

                setupDragging(titleBar) {
                    let startX, startY;

                    titleBar.addEventListener('mousedown', (e) => {
                        if (e.target.closest('.window-control-btn')) return;
                        startX = e.clientX - this.x;
                        startY = e.clientY - this.y;
                        system.draggingWindow = this;

                        const onMouseMove = (e) => {
                            this.x = e.clientX - startX;
                            this.y = e.clientY - startY;
                            this.element.style.left = this.x + 'px';
                            this.element.style.top = this.y + 'px';
                        };

                        const onMouseUp = () => {
                            system.draggingWindow = null;
                            document.removeEventListener('mousemove', onMouseMove);
                            document.removeEventListener('mouseup', onMouseUp);
                        };

                        document.addEventListener('mousemove', onMouseMove);
                        document.addEventListener('mouseup', onMouseUp);
                    });
                }

                setupResizing(resizer) {
                    let startX, startY, startWidth, startHeight;

                    resizer.addEventListener('mousedown', (e) => {
                        startX = e.clientX;
                        startY = e.clientY;
                        startWidth = this.width;
                        startHeight = this.height;
                        system.resizingWindow = this;

                        const onMouseMove = (e) => {
                            this.width = Math.max(300, startWidth + (e.clientX - startX));
                            this.height = Math.max(200, startHeight + (e.clientY - startY));
                            this.element.style.width = this.width + 'px';
                            this.element.style.height = this.height + 'px';
                        };

                        const onMouseUp = () => {
                            system.resizingWindow = null;
                            document.removeEventListener('mousemove', onMouseMove);
                            document.removeEventListener('mouseup', onMouseUp);
                        };

                        document.addEventListener('mousemove', onMouseMove);
                        document.addEventListener('mouseup', onMouseUp);
                    });
                }

                focus() {
                    if (system.activeWindow) {
                        system.activeWindow.element.classList.remove('active');
                        system.activeWindow.element.classList.add('inactive');
                    }
                    this.element.classList.add('active');
                    this.element.classList.remove('inactive');
                    this.element.style.zIndex = Math.max(...system.windows.map(w => parseInt(w.element.style.zIndex) || 100), 100) + 1;
                    system.activeWindow = this;
                    this.updateDockIndicator();
                }

                minimize() {
                    const dockItem = document.querySelector(`[data-app="${this.app}"]`);
                    if (dockItem) {
                        const rect = dockItem.getBoundingClientRect();
                        this.element.style.animation = 'none';
                        setTimeout(() => {
                            this.element.style.animation = `minimize 0.3s ease forwards`;
                        }, 10);
                    }
                    this.isMinimized = true;
                    setTimeout(() => {
                        this.element.style.display = 'none';
                    }, 300);
                }

                maximize() {
                    if (this.width === window.innerWidth && this.height === window.innerHeight - 104) {
                        this.element.style.left = this.x + 'px';
                        this.element.style.top = this.y + 'px';
                        this.element.style.width = this.width + 'px';
                        this.element.style.height = this.height + 'px';
                    } else {
                        this.x = 0;
                        this.y = 24;
                        this.width = window.innerWidth;
                        this.height = window.innerHeight - 104;
                        this.element.style.left = '0';
                        this.element.style.top = '24px';
                        this.element.style.width = '100%';
                        this.element.style.height = 'calc(100% - 104px)';
                    }
                }

                close() {
                    this.element.style.animation = 'windowSlideIn 0.3s cubic-bezier(0.23, 1, 0.320, 1) reverse';
                    setTimeout(() => {
                        this.element.remove();
                        system.windows = system.windows.filter(w => w !== this);
                        if (system.activeWindow === this) {
                            const lastWindow = system.windows[system.windows.length - 1];
                            if (lastWindow) lastWindow.focus();
                        }
                        this.updateDockIndicator();
                    }, 300);
                }

                updateDockIndicator() {
                    const dockItem = document.querySelector(`[data-app="${this.app}"]`);
                    if (!dockItem) return;
                    const hasOpenWindow = system.windows.some(w => w.app === this.app && !w.isMinimized);
                    if (hasOpenWindow) {
                        dockItem.classList.add('active');
                    } else {
                        dockItem.classList.remove('active');
                    }
                }
            }

            /* ========================================
            SAFARI BROWSER WINDOW
            ======================================== */
            class SafariWindow extends AppWindow {
                constructor() {
                    super({
                        title: 'Safari',
                        app: 'safari',
                        width: 1000,
                        height: 650
                    });
                    this.currentURL = '';
                    this.history = [];
                    this.historyIndex = -1;
                }

                create() {
                    this.element = document.createElement('div');
                    this.element.className = 'window safari-window liquid-glass-window active';
                    this.element.id = `window-${this.id}`;
                    
                    // Adjust window size for mobile
                    if (isMobile) {
                        this.width = Math.min(this.width, window.innerWidth * 0.95);
                        this.height = Math.min(this.height, window.innerHeight * 0.80);
                        this.x = Math.max(10, Math.min(this.x, window.innerWidth - this.width - 10));
                        this.y = Math.max(30, Math.min(this.y, window.innerHeight - this.height - 100));
                    }
                    
                    this.element.style.left = this.x + 'px';
                    this.element.style.top = this.y + 'px';
                    this.element.style.width = this.width + 'px';
                    this.element.style.height = this.height + 'px';

                    // Unified toolbar with traffic lights
                    const unifiedToolbar = document.createElement('div');
                    unifiedToolbar.className = 'safari-unified-toolbar';

                    // Traffic lights
                    const trafficLights = document.createElement('div');
                    trafficLights.className = 'safari-traffic-lights';

                    const closeBtn = document.createElement('div');
                    closeBtn.className = 'safari-traffic-light close';
                    closeBtn.addEventListener('click', () => this.close());

                    const minimizeBtn = document.createElement('div');
                    minimizeBtn.className = 'safari-traffic-light minimize';
                    minimizeBtn.addEventListener('click', () => this.minimize());

                    const maximizeBtn = document.createElement('div');
                    maximizeBtn.className = 'safari-traffic-light maximize';
                    maximizeBtn.addEventListener('click', () => this.maximize());

                    trafficLights.appendChild(closeBtn);
                    trafficLights.appendChild(minimizeBtn);
                    trafficLights.appendChild(maximizeBtn);

                    // Navigation buttons (left side)
                    const navButtonsLeft = document.createElement('div');
                    navButtonsLeft.className = 'safari-nav-buttons';

                    const backBtn = document.createElement('button');
                    backBtn.className = 'safari-button';
                    backBtn.innerHTML = '';
                    backBtn.id = 'safari-back';
                    backBtn.title = 'Back';
                    backBtn.addEventListener('click', () => this.goBack());

                    const forwardBtn = document.createElement('button');
                    forwardBtn.className = 'safari-button';
                    forwardBtn.innerHTML = '';
                    forwardBtn.id = 'safari-forward';
                    forwardBtn.title = 'Forward';
                    forwardBtn.addEventListener('click', () => this.goForward());

                    navButtonsLeft.appendChild(backBtn);
                    navButtonsLeft.appendChild(forwardBtn);

                    // Address bar wrapper
                    const addressBarWrapper = document.createElement('div');
                    addressBarWrapper.className = 'safari-address-bar-wrapper';

                    const addressBar = document.createElement('input');
                    addressBar.type = 'text';
                    addressBar.className = 'address-bar';
                    addressBar.placeholder = 'Search or enter website';
                    addressBar.id = 'safari-address-bar';
                    addressBar.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.navigate(addressBar.value);
                        }
                    });

                    addressBarWrapper.appendChild(addressBar);

                    // Action buttons (right side)
                    const actionButtons = document.createElement('div');
                    actionButtons.className = 'safari-action-buttons';

                    const shareBtn = document.createElement('button');
                    shareBtn.className = 'safari-button';
                    shareBtn.innerHTML = '';
                    shareBtn.title = 'Share';

                    const sidebarBtn = document.createElement('button');
                    sidebarBtn.className = 'safari-button';
                    sidebarBtn.innerHTML = '';
                    sidebarBtn.title = 'Sidebar';

                    const tabsBtn = document.createElement('button');
                    tabsBtn.className = 'safari-button';
                    tabsBtn.innerHTML = '';
                    tabsBtn.title = 'Tab Overview';

                    actionButtons.appendChild(shareBtn);
                    actionButtons.appendChild(sidebarBtn);
                    actionButtons.appendChild(tabsBtn);

                    // Assemble toolbar
                    unifiedToolbar.appendChild(trafficLights);
                    unifiedToolbar.appendChild(navButtonsLeft);
                    unifiedToolbar.appendChild(addressBarWrapper);
                    unifiedToolbar.appendChild(actionButtons);

                    // Content area
                    const content = document.createElement('div');
                    content.className = 'window-content';

                    const containerDiv = document.createElement('div');
                    containerDiv.className = 'iframe-container';
                    containerDiv.id = 'iframe-container';

                    content.appendChild(containerDiv);

                    // Resizer
                    const resizer = document.createElement('div');
                    resizer.className = 'window-resizer';

                    this.element.appendChild(unifiedToolbar);
                    this.element.appendChild(content);
                    this.element.appendChild(resizer);

                    document.getElementById('windows-container').appendChild(this.element);

                    this.setupDragging(unifiedToolbar);
                    this.setupResizing(resizer);
                    this.setupPointerEvents();
                    this.updateNavigationButtons();
                }

                setupPointerEvents() {
                    this.element.addEventListener('mousedown', () => {
                        if (system.activeWindow !== this) {
                            this.focus();
                        }
                    });
                }

                setupDragging(toolbar) {
                    let startX, startY;

                    toolbar.addEventListener('mousedown', (e) => {
                        if (e.target.closest('.safari-traffic-light') || e.target.closest('.safari-button')) return;
                        startX = e.clientX - this.x;
                        startY = e.clientY - this.y;
                        system.draggingWindow = this;

                        const onMouseMove = (e) => {
                            this.x = e.clientX - startX;
                            this.y = e.clientY - startY;
                            this.element.style.left = this.x + 'px';
                            this.element.style.top = this.y + 'px';
                        };

                        const onMouseUp = () => {
                            system.draggingWindow = null;
                            document.removeEventListener('mousemove', onMouseMove);
                            document.removeEventListener('mouseup', onMouseUp);
                        };

                        document.addEventListener('mousemove', onMouseMove);
                        document.addEventListener('mouseup', onMouseUp);
                    });
                }

                setupResizing(resizer) {
                    let startX, startY, startWidth, startHeight;

                    resizer.addEventListener('mousedown', (e) => {
                        startX = e.clientX;
                        startY = e.clientY;
                        startWidth = this.width;
                        startHeight = this.height;
                        system.resizingWindow = this;

                        const onMouseMove = (e) => {
                            this.width = Math.max(600, startWidth + (e.clientX - startX));
                            this.height = Math.max(300, startHeight + (e.clientY - startY));
                            this.element.style.width = this.width + 'px';
                            this.element.style.height = this.height + 'px';
                        };

                        const onMouseUp = () => {
                            system.resizingWindow = null;
                            document.removeEventListener('mousemove', onMouseMove);
                            document.removeEventListener('mouseup', onMouseUp);
                        };

                        document.addEventListener('mousemove', onMouseMove);
                        document.addEventListener('mouseup', onMouseUp);
                    });
                }

                navigate(input) {
                    let url = input.trim();
                    if (!url) return;

                    if (!url.startsWith('http://') && !url.startsWith('https://')) {
                        if (url.includes('.') && !url.includes(' ')) {
                            url = 'https://' + url;
                        } else {
                            url = 'https://duckduckgo.com/?q=' + encodeURIComponent(url);
                        }
                    }

                    this.currentURL = url;
                    this.historyIndex++;
                    this.history = this.history.slice(0, this.historyIndex);
                    this.history.push(url);

                    this.loadContent();
                    this.updateNavigationButtons();
                }

                loadContent() {
                    const container = document.getElementById('iframe-container');
                    if (!container) return;
                    
                    container.innerHTML = '';

                    const loadIndicator = document.createElement('div');
                    loadIndicator.className = 'load-indicator';
                    container.appendChild(loadIndicator);

                    setTimeout(() => {
                        const indicator = container.querySelector('.load-indicator');
                        if (indicator) indicator.remove();
                    }, 2500);

                    const iframe = document.createElement('iframe');
                    iframe.src = this.currentURL;
                    iframe.style.display = 'none';

                    iframe.onload = () => {
                        const existingIndicator = container.querySelector('.load-indicator');
                        if (existingIndicator) existingIndicator.remove();
                        iframe.style.display = 'block';
                        container.innerHTML = '';
                        container.appendChild(iframe);
                    };

                    iframe.onerror = () => {
                        container.innerHTML = '';
                        const error = document.createElement('div');
                        error.className = 'browser-error';
                        error.innerHTML = `
                            <h2>Cannot Load Page</h2>
                            <p>The website cannot be displayed in this browser.</p>
                            <button onclick="window.open('${this.currentURL}', '_blank')">Open in New Tab</button>
                        `;
                        container.appendChild(error);
                    };

                    container.appendChild(iframe);
                }

                close() {
                    this.element.style.animation = 'windowSlideIn 0.3s cubic-bezier(0.23, 1, 0.320, 1) reverse';
                    setTimeout(() => {
                        this.element.remove();
                        system.windows = system.windows.filter(w => w !== this);
                        if (system.activeWindow === this) {
                            const lastWindow = system.windows[system.windows.length - 1];
                            if (lastWindow) lastWindow.focus();
                        }
                        this.updateDockIndicator();
                    }, 300);
                }

                minimize() {
                    const dockItem = document.querySelector(`[data-app="${this.app}"]`);
                    if (dockItem) {
                        this.element.style.animation = 'none';
                        setTimeout(() => {
                            this.element.style.animation = `minimize 0.3s ease forwards`;
                        }, 10);
                    }
                    this.isMinimized = true;
                    setTimeout(() => {
                        this.element.style.display = 'none';
                    }, 300);
                }

                maximize() {
                    if (this.width === window.innerWidth && this.height === window.innerHeight - 104) {
                        this.element.style.left = this.x + 'px';
                        this.element.style.top = this.y + 'px';
                        this.element.style.width = this.width + 'px';
                        this.element.style.height = this.height + 'px';
                    } else {
                        this.x = 0;
                        this.y = 24;
                        this.width = window.innerWidth;
                        this.height = window.innerHeight - 104;
                        this.element.style.left = '0';
                        this.element.style.top = '24px';
                        this.element.style.width = '100%';
                        this.element.style.height = 'calc(100% - 104px)';
                    }
                }

                focus() {
                    if (system.activeWindow) {
                        system.activeWindow.element.classList.remove('active');
                        system.activeWindow.element.classList.add('inactive');
                    }
                    this.element.classList.add('active');
                    this.element.classList.remove('inactive');
                    this.element.style.zIndex = Math.max(...system.windows.map(w => parseInt(w.element.style.zIndex) || 100), 100) + 1;
                    system.activeWindow = this;
                    this.updateDockIndicator();
                }

                updateDockIndicator() {
                    const dockItem = document.querySelector(`[data-app="${this.app}"]`);
                    if (!dockItem) return;
                    const hasOpenWindow = system.windows.some(w => w.app === this.app && !w.isMinimized);
                    if (hasOpenWindow) {
                        dockItem.classList.add('active');
                    } else {
                        dockItem.classList.remove('active');
                    }
                }

                goBack() {
                    if (this.historyIndex > 0) {
                        this.historyIndex--;
                        this.currentURL = this.history[this.historyIndex];
                        const addressBar = document.getElementById('safari-address-bar');
                        if (addressBar) addressBar.value = this.currentURL;
                        this.loadContent();
                        this.updateNavigationButtons();
                    }
                }

                goForward() {
                    if (this.historyIndex < this.history.length - 1) {
                        this.historyIndex++;
                        this.currentURL = this.history[this.historyIndex];
                        const addressBar = document.getElementById('safari-address-bar');
                        if (addressBar) addressBar.value = this.currentURL;
                        this.loadContent();
                        this.updateNavigationButtons();
                    }
                }

                updateNavigationButtons() {
                    const backBtn = document.getElementById('safari-back');
                    const forwardBtn = document.getElementById('safari-forward');
                    if (backBtn) {
                        backBtn.disabled = this.historyIndex <= 0;
                        backBtn.classList.toggle('disabled', this.historyIndex <= 0);
                    }
                    if (forwardBtn) {
                        forwardBtn.disabled = this.historyIndex >= this.history.length - 1;
                        forwardBtn.classList.toggle('disabled', this.historyIndex >= this.history.length - 1);
                    }
                }
            }

            /* ========================================
            DOCK MAGNIFICATION EFFECT
            ======================================== */
            const dock = document.getElementById('dock');
            const dockItems = dock.querySelectorAll('.dock-item');
            let hoveredIndex = -1;

            // Enhanced magnification with smooth neighbor effect
            document.addEventListener('mousemove', (e) => {
                const dockRect = dock.getBoundingClientRect();
                const dockCenterY = dockRect.top + dockRect.height / 2;
                const mouseY = e.clientY;
                const distanceFromDock = Math.abs(mouseY - dockCenterY);
                
                // Only apply magnification when mouse is near the dock
                if (distanceFromDock > 120) {
                    dockItems.forEach(item => {
                        item.classList.remove('magnified', 'magnified-neighbor');
                        item.style.transform = 'scale(1)';
                    });
                    hoveredIndex = -1;
                    return;
                }

                const mouseX = e.clientX;
                let newHoveredIndex = -1;
                const magnificationRadius = 150;

                dockItems.forEach((item, index) => {
                    const itemRect = item.getBoundingClientRect();
                    const itemCenterX = itemRect.left + itemRect.width / 2;
                    const itemDistance = Math.abs(mouseX - itemCenterX);

                    // Check if this item is the hovered one
                    if (itemDistance < 40 && distanceFromDock < 100) {
                        newHoveredIndex = index;
                    }
                });

                // Apply magnification and neighbor effects
                dockItems.forEach((item, index) => {
                    const itemRect = item.getBoundingClientRect();
                    const itemCenterX = itemRect.left + itemRect.width / 2;
                    const itemDistance = Math.abs(mouseX - itemCenterX);

                    item.classList.remove('magnified', 'magnified-neighbor');

                    if (newHoveredIndex === index && distanceFromDock < 100) {
                        // Main magnified item
                        item.classList.add('magnified');
                    } else if (
                        (newHoveredIndex !== -1 && (index === newHoveredIndex - 1 || index === newHoveredIndex + 1)) &&
                        distanceFromDock < 100
                    ) {
                        // Neighboring items
                        item.classList.add('magnified-neighbor');
                    } else {
                        // Normal state
                        item.style.transform = 'scale(1)';
                    }
                });

                hoveredIndex = newHoveredIndex;
            });

            // Reset magnification when mouse leaves
            document.addEventListener('mouseleave', () => {
                dockItems.forEach(item => {
                    item.classList.remove('magnified', 'magnified-neighbor');
                    item.style.transform = 'scale(1)';
                });
                hoveredIndex = -1;
            });

            /* ========================================
            LANGUAGE AND THEME SYSTEM
            ======================================== */
            const translations = {
                en: {
                    portfolio: 'Portfolio',
                    about: 'About Me',
                    skills: 'Skills',
                    projects: 'Projects',
                    education: 'Education',
                    contact: 'Contact',
                    settings: 'Control Center',
                    showcase: 'Showcase',
                    hello: 'Hello, I\'m a Web Developer',
                    subtitle: 'Specialized in Frontend & Full Stack Development',
                    aboutTitle: 'About Me',
                    aboutText: 'I\'m a passionate web developer studying web development with expertise in HTML, CSS, JavaScript, React, and modern web technologies. I create beautiful, responsive websites and applications.',
                    skillsTitle: 'My Skills',
                    projectsTitle: 'Featured Projects',
                    educationTitle: 'Education',
                    studying: 'Studying Web Development',
                    contactTitle: 'Get in Touch',
                    email: 'Email',
                    language: 'Language',
                    theme: 'Theme',
                    dark: 'Dark',
                    light: 'Light',
                    github: 'GitHub',
                    linkedin: 'LinkedIn',
                    // New translations
                    webDeveloperPortfolio: 'Web Developer Portfolio',
                    passionateFullStack: 'Passionate Full-Stack Developer | Student at SMTE',
                    aboutMe: 'About Me',
                    technicalSkills: 'Technical Skills',
                    frontend: 'Frontend',
                    backendTools: 'Backend & Tools',
                    featuredProjects: 'Featured Projects',
                    ecommercePlatform: 'E-Commerce Platform',
                    ecommerceDesc: 'Full-stack e-commerce app with React, Node.js, and MongoDB. Features include product catalog, shopping cart, and payment integration.',
                    taskManagerApp: 'Task Manager App',
                    taskManagerDesc: 'Interactive task management application with drag-and-drop functionality, priority levels, and real-time updates.',
                    weatherDashboard: 'Weather Dashboard',
                    weatherDesc: 'Real-time weather app with interactive maps, current conditions, and 7-day forecasts using REST APIs.',
                    socialMediaClone: 'Social Media Clone',
                    socialDesc: 'Dynamic social platform with authentication, posting, commenting, and real-time notifications.',
                    experienceAchievements: 'Experience & Achievements',
                    webDevStudent: 'Web Development Student',
                    webDevStudentDesc: 'at SMTE - Advanced curriculum in modern web technologies',
                    freelanceWebDev: 'Freelance Web Developer',
                    freelanceDesc: 'Completed 10+ projects for various clients',
                    openSourceContrib: 'Open Source Contributor',
                    openSourceDesc: 'Active contributor to web development projects',
                    awardWinner: 'Award Winner',
                    awardDesc: 'Best Student Project 2025 at SMTE',
                    currentFocus: 'Current Focus',
                    currentFocusDesc: 'Advanced React development, backend integration, and modern deployment practices. Working towards becoming a full-stack developer with expertise in the MERN stack.',
                    quickStats: 'Quick Stats',
                    projects: 'Projects',
                    yearsExp: 'Years Exp',
                    satisfied: 'Satisfied',
                    clients: 'Clients',
                    whoIAm: 'Who I Am',
                    whoIAmDesc: 'I\'m a passionate web developer currently studying at SMTE Institute, specializing in modern web technologies and full-stack development. My journey in programming started with curiosity and has evolved into a professional pursuit.',
                    myMission: 'My Mission',
                    myMissionDesc: 'To create beautiful, functional, and user-friendly web applications that make a positive impact. I believe in continuous learning and staying updated with the latest technologies in the ever-evolving web industry.',
                    currentGoals: 'Current Goals',
                    goal1: 'Master full-stack development with MERN stack',
                    goal2: 'Build innovative web applications',
                    goal3: 'Contribute to open-source projects',
                    goal4: 'Help others learn web development',
                    feelFreeToReach: 'Feel free to reach out to me for collaborations or opportunities:',
                    socialLinks: 'Social Links',
                    quickMessage: 'Quick Message',
                    yourName: 'Your Name',
                    message: 'Message',
                    sendMessage: 'Send Message',
                    comingSoon: 'Coming Soon!',
                    workingOnSomething: 'We\'re working on something amazing to showcase our best projects and achievements. Stay tuned!',
                    developmentProgress: 'Development Progress',
                    creativeProjects: 'Creative Projects',
                    webApplications: 'Web Applications',
                    mobileApps: 'Mobile Apps',
                    innovations: 'Innovations',
                    getNotified: 'Get notified when we launch! Follow our progress in the Portfolio section.',
                    // Education timeline
                    webDevelopmentProgram: 'Web Development Program',
                    smteInstitute: 'SMTE Institute - Advanced Certification',
                    webDevProgramDesc: 'Comprehensive full-stack web development program focusing on modern technologies and industry best practices. Currently maintaining excellent academic performance.',
                    frontendSpecialization: 'Frontend Specialization',
                    selfDirectedLearning: 'Self-Directed Learning & Projects',
                    frontendSpecDesc: 'Intensive self-study period focusing on frontend technologies, responsive design, and user experience. Completed multiple personal projects and freelance work.',
                    programmingFoundations: 'Programming Foundations',
                    computerScienceFund: 'Computer Science Fundamentals',
                    programmingFoundDesc: 'Built strong foundation in programming concepts, algorithms, and data structures. Explored various programming languages and development methodologies.',
                    digitalLiteracy: 'Digital Literacy & Design',
                    creativeTechnical: 'Creative & Technical Skills',
                    digitalLiteracyDesc: 'Developed digital design skills and basic programming knowledge. First exposure to web technologies and user interface design principles.',
                    // Welcome window
                    welcomePortfolio: 'Welcome to My Portfolio',
                    welcomeMessage: 'Hello! Welcome to my interactive macOS-style portfolio. Explore my projects, skills, and journey as a web developer.',
                    howToUse: 'How to Use:',
                    clickDockIcons: 'Click dock icons to open applications',
                    dragWindows: 'Drag windows by their title bar',
                    resizeWindows: 'Resize windows from the bottom-right corner',
                    hoverDock: 'Hover over dock icons for magnification',
                    useControlCenter: 'Use Control Center for language switching',
                    instagram: 'Instagram',
                    // Mobile mode translations
                    chooseMobileMode: 'Choose Mobile Mode',
                    chooseMobileDesc: 'Select how you want to experience this portfolio on your mobile device',
                    dexMode: 'DeX Mode',
                    dexModeDesc: 'Desktop experience (landscape)',
                    phoneMode: 'Phone Mode',
                    phoneModeDesc: 'Mobile optimized',
                    rotateDevice: 'Please rotate your device',
                    rotateDeviceDesc: 'DeX mode works best in landscape orientation for the full desktop experience'
                },
                th: {
                    portfolio: '',
                    about: '',
                    skills: '',
                    projects: '',
                    education: '',
                    contact: '',
                    settings: '',
                    showcase: '',
                    hello: ' ',
                    subtitle: ' Frontend  Full Stack',
                    aboutTitle: '',
                    aboutText: ' HTML, CSS, JavaScript, React ',
                    skillsTitle: '',
                    projectsTitle: '',
                    educationTitle: '',
                    studying: '',
                    contactTitle: '',
                    email: '',
                    language: '',
                    theme: '',
                    dark: '',
                    light: '',
                    github: 'GitHub',
                    linkedin: 'LinkedIn',
                    // New translations
                    webDeveloperPortfolio: '',
                    passionateFullStack: ' Full-Stack  |  SMTE',
                    aboutMe: '',
                    technicalSkills: '',
                    frontend: 'Frontend',
                    backendTools: 'Backend ',
                    featuredProjects: '',
                    ecommercePlatform: '',
                    ecommerceDesc: ' full-stack  React, Node.js  MongoDB   ',
                    taskManagerApp: '',
                    taskManagerDesc: ' drag-and-drop  ',
                    weatherDashboard: '',
                    weatherDesc: '   7  REST APIs',
                    socialMediaClone: '',
                    socialDesc: '   ',
                    experienceAchievements: '',
                    webDevStudent: '',
                    webDevStudentDesc: ' SMTE - ',
                    freelanceWebDev: '',
                    freelanceDesc: '  10 ',
                    openSourceContrib: '',
                    openSourceDesc: '',
                    awardWinner: '',
                    awardDesc: ' 2025  SMTE',
                    currentFocus: '',
                    currentFocusDesc: ' React   backend  deploy   full-stack  MERN stack',
                    quickStats: '',
                    projects: '',
                    yearsExp: '',
                    satisfied: '',
                    clients: '',
                    whoIAm: '',
                    whoIAmDesc: ' SMTE  full-stack ',
                    myMission: '',
                    myMissionDesc: '   ',
                    currentGoals: '',
                    goal1: ' full-stack  MERN stack',
                    goal2: '',
                    goal3: '',
                    goal4: '',
                    feelFreeToReach: ':',
                    socialLinks: '',
                    quickMessage: '',
                    yourName: '',
                    message: '',
                    sendMessage: '',
                    comingSoon: ' !',
                    workingOnSomething: ' !',
                    developmentProgress: '',
                    creativeProjects: '',
                    webApplications: '',
                    mobileApps: '',
                    innovations: '',
                    getNotified: '! ',
                    // Education timeline
                    webDevelopmentProgram: '',
                    smteInstitute: ' SMTE - ',
                    webDevProgramDesc: ' full-stack  ',
                    frontendSpecialization: ' Frontend',
                    selfDirectedLearning: '',
                    frontendSpecDesc: ' frontend   ',
                    programmingFoundations: '',
                    computerScienceFund: '',
                    programmingFoundDesc: '    ',
                    digitalLiteracy: '',
                    creativeTechnical: '',
                    digitalLiteracyDesc: ' '
                }
            };

            // Global state
            window.appState = {
                language: 'en',
                theme: 'dark'
            };

            function t(key) {
                return translations[window.appState.language][key] || key;
            }

            function setTheme(theme) {
                window.appState.theme = theme;
                document.documentElement.style.filter = theme === 'light' ? 'invert(1) hue-rotate(180deg)' : 'none';
                localStorage.setItem('theme', theme);
                localStorage.setItem('language', window.appState.language);
            }

            function setLanguage(lang) {
                window.appState.language = lang;
                localStorage.setItem('language', lang);
                localStorage.setItem('theme', window.appState.theme);
            }

            // Load saved preferences
            const savedTheme = localStorage.getItem('theme') || 'dark';
            const savedLanguage = localStorage.getItem('language') || 'en';
            setTheme(savedTheme);
            setLanguage(savedLanguage);

            /* ========================================
            DOCK ITEM CLICK HANDLERS
            ======================================== */
            dockItems.forEach(item => {
                item.addEventListener('click', () => {
                    const app = item.dataset.app;
                    const existingWindow = system.windows.find(w => w.app === app && !w.isMinimized);

                    if (existingWindow) {
                        if (system.activeWindow === existingWindow) {
                            existingWindow.minimize();
                        } else {
                            existingWindow.focus();
                            existingWindow.element.style.display = 'flex';
                            existingWindow.isMinimized = false;
                        }
                    } else {
                        if (app === 'portfolio') {
                            const windowWidth = isMobile ? Math.min(900, window.innerWidth * 0.95) : 900;
                            const windowHeight = isMobile ? Math.min(700, window.innerHeight * 0.80) : 700;
                            
                            new AppWindow({
                                title: t('portfolio'),
                                app: 'portfolio',
                                width: windowWidth,
                                height: windowHeight,
                                content: `
                                    <div class="portfolio-window" style="overflow-y: auto; height: 100%; padding-right: 8px;">
    
                                    <!-- Header -->
                                    <div style="text-align: center; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                        <h1 style="font-size: 32px; margin-bottom: 12px;">My Portfolio & Research</h1>
                                        <p style="font-size: 14px; opacity: 0.8;">
                                            Student Developer | SMTE | Exploring Web, Systems, and Technology
                                        </p>
                                    </div>

                                    <!-- About -->
                                    <div class="card-box" style="margin-bottom: 24px;">
                                        <h2 style="font-size: 20px; margin-bottom: 12px; color: #3b82f6;">About Me</h2>
                                        <p style="line-height: 1.6; margin-bottom: 12px;">
                                            Im a student developer studying in the SMTE program, with a strong interest in web development,
                                            system design, and how technology can be used to solve real problems.
                                            I enjoy building things from scratch and turning ideas into working systems.
                                        </p>
                                        <p style="line-height: 1.6; font-size: 13px; opacity: 0.8;">
                                            My journey started with curiosity about how websites work.
                                            Over time, that curiosity turned into hands-on experience with frontend, backend,
                                            and experimenting with more advanced topics like databases and automation.
                                        </p>
                                    </div>

                                    <!-- Skills -->
                                    <div class="card-box" style="margin-bottom: 24px;">
                                        <h2 style="font-size: 20px; margin-bottom: 16px; color: #3b82f6;">Technical Skills</h2>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                                            <div>
                                                <h4 style="font-size: 12px; opacity: 0.7; margin-bottom: 8px; text-transform: uppercase;">Frontend</h4>
                                                <ul style="list-style: none; padding: 0; margin: 0;">
                                                    <li style="padding: 4px 0; font-size: 13px;">HTML5 & CSS3</li>
                                                    <li style="padding: 4px 0; font-size: 13px;">JavaScript (ES6+)</li>
                                                    <li style="padding: 4px 0; font-size: 13px;">React</li>
                                                    <li style="padding: 4px 0; font-size: 13px;">Responsive UI Design</li>
                                                </ul>
                                            </div>
                                            <div>
                                                <h4 style="font-size: 12px; opacity: 0.7; margin-bottom: 8px; text-transform: uppercase;">Backend & Systems</h4>
                                                <ul style="list-style: none; padding: 0; margin: 0;">
                                                    <li style="padding: 4px 0; font-size: 13px;">Node.js</li>
                                                    <li style="padding: 4px 0; font-size: 13px;">Databases (SQL / NoSQL)</li>
                                                    <li style="padding: 4px 0; font-size: 13px;">Git & Version Control</li>
                                                    <li style="padding: 4px 0; font-size: 13px;">Python & C++</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Projects -->
                                    <div class="card-box" style="margin-bottom: 24px;">
                                        <h2 style="font-size: 20px; margin-bottom: 16px; color: #3b82f6;">Projects</h2>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                                            <div style="background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px;">
                                                <h4 style="font-size: 13px; font-weight: 600;">Web-Based System Projects</h4>
                                                <p style="font-size: 12px; opacity: 0.7;">
                                                    Developed multiple web systems focusing on UI/UX, system logic,
                                                    and real-world usability.
                                                </p>
                                            </div>
                                            <div style="background: rgba(255,255,255,0.05); padding: 12px; border-radius: 8px;">
                                                <h4 style="font-size: 13px; font-weight: 600;">Interactive Web Applications</h4>
                                                <p style="font-size: 12px; opacity: 0.7;">
                                                    Built interactive apps using JavaScript and React,
                                                    focusing on smooth user experience and clean structure.
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Research -->
                                    <div class="card-box" style="margin-bottom: 24px;">
                                        <h2 style="font-size: 20px; margin-bottom: 16px; color: #3b82f6;">Research & Exploration</h2>
                                        <ul style="list-style: none; padding: 0; margin: 0;">
                                            <li style="padding: 10px 0; font-size: 13px;">
                                                Research on web system architecture and client-server communication
                                            </li>
                                            <li style="padding: 10px 0; font-size: 13px;">
                                                Experimenting with databases, APIs, and system integration
                                            </li>
                                            <li style="padding: 10px 0; font-size: 13px;">
                                                Exploring automation, scripting, and basic AI-related concepts
                                            </li>
                                        </ul>
                                    </div>

                                    <!-- Current Focus -->
                                    <div class="card-box">
                                        <h2 style="font-size: 20px; margin-bottom: 16px; color: #3b82f6;">Current Focus</h2>
                                        <p style="font-size: 13px; opacity: 0.8; line-height: 1.6;">
                                            Currently focusing on improving full-stack development skills,
                                            building more structured systems, and learning how different technologies
                                            work together in real-world applications.
                                        </p>
                                    </div>

                                </div>

                                `
                            });
                        } else if (app === 'education') {
                            const windowWidth = isMobile ? Math.min(650, window.innerWidth * 0.95) : 650;
                            const windowHeight = isMobile ? Math.min(550, window.innerHeight * 0.80) : 550;
                            
                            new AppWindow({
                                title: t('Education'),
                                app: 'education',
                                width: windowWidth,
                                height: windowHeight,
                                content: `
                                    <div class="portfolio-window" style="margin: 0px; border-radius: 0 0 12px 12px;">
                                        <div style="padding: 24px;">
                                            <h1 style="text-align: center; margin-bottom: 30px; font-size: 28px; background: linear-gradient(135deg, #3b82f6, #9333ea); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">${t('educationTitle')}</h1>
                                            
                                            <div class="timeline">
                                                <div class="timeline-item">
                                                    <div class="timeline-dot"></div>
                                                    <div class="timeline-content">
                                                        <div class="timeline-year">2016 - 2021</div>
                                                        <div class="timeline-title">Primary - Kitiya School</div>
                                                        <div class="timeline-subtitle">Finding myself & enjoying childhood</div>
                                                        <div class="timeline-description">
                                                            This was a fun and carefree period of my life.
                                                            I focused on learning the basics, playing a lot,
                                                            and slowly discovering what I was good at.
                                                            This was also when I realized I enjoyed logical thinking and math more than I expected.
                                                        </div>
                                                        <div class="timeline-skills">
                                                            <span class="timeline-skill">Math</span>
                                                            <span class="timeline-skill">Science</span>
                                                            <span class="timeline-skill">Thai</span>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="timeline-item">
                                                    <div class="timeline-dot"></div>
                                                    <div class="timeline-content">
                                                        <div class="timeline-year">2021 - 2023</div>
                                                        <div class="timeline-title">Secondary - Sarakhampitayakhom School</div>
                                                        <div class="timeline-subtitle">Secondary 13 (SMTE)  Welcome to the Web</div>
                                                        <div class="timeline-description">
                                                            This was the real starting point of my programming journey.
                                                            I was introduced to coding through Python, HTML, and CSS.
                                                            I went from just using websites to being curious about how they actually work,
                                                            and I started enjoying building things with code.
                                                        </div>
                                                        <div class="timeline-skills">
                                                            <span class="timeline-skill">Python</span>
                                                            <span class="timeline-skill">HTML</span>
                                                            <span class="timeline-skill">CSS</span>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="timeline-item">
                                                    <div class="timeline-dot"></div>
                                                    <div class="timeline-content">
                                                        <div class="timeline-year">2023 - Present</div>
                                                        <div class="timeline-title">Secondary - Sarakhampitayakhom School</div>
                                                        <div class="timeline-subtitle">Secondary 45 (SMTE)  Hello Database & AI</div>
                                                        <div class="timeline-description">
                                                            During this phase, I became more serious about development.
                                                            I started working with JavaScript, React, Node.js, and C++.
                                                            I learned about backend systems, databases, and how everything connects together.
                                                            My mindset shifted from just making things work to making them well-structured and scalable.
                                                        </div>
                                                        <div class="timeline-skills">
                                                            <span class="timeline-skill">React</span>
                                                            <span class="timeline-skill">Node.js</span>
                                                            <span class="timeline-skill">JavaScript</span>
                                                            <span class="timeline-skill">C++</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="text-align: center; margin-top: 30px; padding: 20px; background: rgba(59, 130, 246, 0.1); border-radius: 12px; border: 1px solid rgba(59, 130, 246, 0.2);">
                                                <h3 style="margin-bottom: 10px; color: #3b82f6;">Current Focus</h3>
                                                <p style="font-size: 14px; margin: 0; color: rgba(255, 255, 255, 0.8);">
                                                    Right now, I'm seriously focusing on React, backend integration,designing systems, and deploying projects for real-world use.<br>My goal is to become a <span style="color= #3b82f6;">full-stack developer</span> capable of handling both web and backend systems.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                `
                            });
                        } else if (app === 'showcase') {
                            const windowWidth = isMobile ? Math.min(600, window.innerWidth * 0.95) : 600;
                            const windowHeight = isMobile ? Math.min(450, window.innerHeight * 0.80) : 450;
                            
                            new AppWindow({
                                title: 'Showcase',
                                app: 'showcase',
                                width: windowWidth,
                                height: windowHeight,
                                content: `
                                    <div class="portfolio-window" style="margin: 0px; border-radius: 0 0 12px 12px;">
                                        <div style="padding: 40px; text-align: center; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                                            <!-- Coming Soon Icon -->
                                            <div style="margin-bottom: 30px; animation: float 3s ease-in-out infinite;">
                                                <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <circle cx="40" cy="40" r="35" stroke="url(#gradient1)" stroke-width="2" opacity="0.8"/>
                                                    <circle cx="40" cy="40" r="25" stroke="url(#gradient2)" stroke-width="1.5" opacity="0.6"/>
                                                    <circle cx="40" cy="40" r="15" fill="url(#gradient3)" opacity="0.4"/>
                                                    <path d="M30 35L40 45L50 35" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" opacity="0.9"/>
                                                    <defs>
                                                        <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                                            <stop offset="0%" style="stop-color:#3b82f6"/>
                                                            <stop offset="50%" style="stop-color:#9333ea"/>
                                                            <stop offset="100%" style="stop-color:#ec4899"/>
                                                        </linearGradient>
                                                        <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                                                            <stop offset="0%" style="stop-color:#9333ea"/>
                                                            <stop offset="100%" style="stop-color:#ec4899"/>
                                                        </linearGradient>
                                                        <radialGradient id="gradient3" cx="50%" cy="50%" r="50%">
                                                            <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.6"/>
                                                            <stop offset="100%" style="stop-color:#9333ea;stop-opacity:0.2"/>
                                                        </radialGradient>
                                                    </defs>
                                                </svg>
                                            </div>
                                            
                                            <!-- Main Title -->
                                            <h1 style="font-size: 36px; font-weight: 800; margin-bottom: 16px; background: linear-gradient(135deg, #3b82f6, #9333ea, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: textGlow 2s ease-in-out infinite;">
                                                Showcase
                                            </h1>
                                            
                                            <!-- Coming Soon Text -->
                                            <div style="margin-bottom: 24px;">
                                                <h2 style="font-size: 24px; font-weight: 600; color: rgba(255, 255, 255, 0.9); margin-bottom: 8px; animation: pulse 2s ease-in-out infinite;">
                                                    Coming Soon!
                                                </h2>
                                                <p style="font-size: 16px; color: rgba(255, 255, 255, 0.7); line-height: 1.6; max-width: 400px;">
                                                    We're working on something amazing to showcase our best projects and achievements. Stay tuned!
                                                </p>
                                            </div>
                                            
                                            <!-- Progress Indicator -->
                                            <div style="width: 300px; margin-bottom: 30px;">
                                                <div style="background: rgba(255, 255, 255, 0.1); height: 4px; border-radius: 2px; overflow: hidden; margin-bottom: 8px;">
                                                    <div style="background: linear-gradient(90deg, #3b82f6, #9333ea, #ec4899); height: 100%; width: 65%; border-radius: 2px; animation: progressGlow 2s ease-in-out infinite;"></div>
                                                </div>
                                                <p style="font-size: 12px; color: rgba(255, 255, 255, 0.6); margin: 0;">Development Progress: 65%</p>
                                            </div>
                                            
                                            <!-- Features Preview -->
                                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; width: 100%; max-width: 400px;">
                                                <div class="card-box" style="padding: 12px; margin: 0; text-align: center;">
                                                    <div style="font-size: 20px; margin-bottom: 6px;"></div>
                                                    <h4 style="font-size: 12px; margin: 0; color: rgba(255, 255, 255, 0.8);">Creative Projects</h4>
                                                </div>
                                                <div class="card-box" style="padding: 12px; margin: 0; text-align: center;">
                                                    <div style="font-size: 20px; margin-bottom: 6px;"></div>
                                                    <h4 style="font-size: 12px; margin: 0; color: rgba(255, 255, 255, 0.8);">Web Applications</h4>
                                                </div>
                                                <div class="card-box" style="padding: 12px; margin: 0; text-align: center;">
                                                    <div style="font-size: 20px; margin-bottom: 6px;"></div>
                                                    <h4 style="font-size: 12px; margin: 0; color: rgba(255, 255, 255, 0.8);">Mobile Apps</h4>
                                                </div>
                                                <div class="card-box" style="padding: 12px; margin: 0; text-align: center;">
                                                    <div style="font-size: 20px; margin-bottom: 6px;"></div>
                                                    <h4 style="font-size: 12px; margin: 0; color: rgba(255, 255, 255, 0.8);">Innovations</h4>
                                                </div>
                                            </div>
                                            
                                            <!-- Notification -->
                                            <div style="margin-top: 30px; padding: 12px 20px; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px; max-width: 350px;">
                                                <p style="font-size: 13px; color: rgba(59, 130, 246, 0.9); margin: 0; font-weight: 500;">
                                                     Get notified when we launch! Follow our progress in the Portfolio section.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <style>
                                        @keyframes float {
                                            0%, 100% { transform: translateY(0px); }
                                            50% { transform: translateY(-10px); }
                                        }
                                        
                                        @keyframes textGlow {
                                            0%, 100% { text-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
                                            50% { text-shadow: 0 0 30px rgba(147, 51, 234, 0.7); }
                                        }
                                        
                                        @keyframes pulse {
                                            0%, 100% { opacity: 1; }
                                            50% { opacity: 0.7; }
                                        }
                                        
                                        @keyframes progressGlow {
                                            0%, 100% { 
                                                box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
                                            }
                                            50% { 
                                                box-shadow: 0 0 20px rgba(147, 51, 234, 0.7);
                                            }
                                        }
                                    </style>
                                `
                            });
                        } else if (app === 'contact') {
                            const windowWidth = isMobile ? Math.min(480, window.innerWidth * 0.95) : 480;
                            const windowHeight = isMobile ? Math.min(420, window.innerHeight * 0.80) : 420;
                            
                            new AppWindow({
                                title: t('contactTitle'),
                                app: 'contact',
                                width: windowWidth,
                                height: windowHeight,
                                content: `
                                    <div class="portfolio-window" style="margin: 0px; border-radius: 0 0 12px 12px;">
                                        <div style="padding: 24px;">
                                            <h1 style="text-align: center; margin-bottom: 25px; font-size: 26px; background: linear-gradient(135deg, #3b82f6, #9333ea); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">${t('contactTitle')}</h1>
                                            <p style="margin-bottom: 25px; text-align: center; font-size: 14px; opacity: 0.8;">Feel free to reach out to me for collaborations or opportunities:</p>
                                            
                                            <div class="card-box liquid-glass" style="margin-bottom: 20px;">
                                                <p><strong>${t('email')}</strong><br>
                                                <a href="mailto:pluem4898@gmail.com" style="color: #3b82f6; text-decoration: none; font-size: 15px;">pluem4898@gmail.com</a></p>
                                            </div>
                                            
                                            <div class="card-box liquid-glass" style="margin-bottom: 20px;">
                                                <p><strong>Social Links</strong><br>
                                                <a href="https://github.com/pluem4898" target="_blank" style="color: #3b82f6; text-decoration: none; margin-right: 15px; font-size: 14px;">${t('github')}</a>
                                                <a href="https://www.instagram.com/puemkub/" target="_blank" style="color: #3b82f6; text-decoration: none; font-size: 14px;">${t('instagram')}</a></p>
                                            </div>
                                            
                                            
                                        </div>
                                    </div>
                                `
                            });
                        } else if (app === 'about') {
                            const windowWidth = isMobile ? Math.min(550, window.innerWidth * 0.95) : 550;
                            const windowHeight = isMobile ? Math.min(380, window.innerHeight * 0.80) : 380;
                            
                           new AppWindow({
                            title: t('about'),
                            app: 'about',
                            width: windowWidth,
                            height: windowHeight,
                            x: window.innerWidth / 2 - windowWidth / 2,
                            y: window.innerHeight / 2 - windowHeight / 2,
                            content: `
                                <div class="portfolio-window">
                                    <h1>${t('aboutTitle')}</h1>
                                    <p>haha you like me? okay i like you too and you so cute</p>
                                    <p><strong>What is it? yep is my portfolio naaa</strong></p>
                                    <ul style="margin-left: 20px; margin-bottom: 16px; font-size: 13px;">
                                        <li>Click dock icons to open applications</li>
                                        <li>Drag windows by their title bar</li>
                                        <li>Resize windows from the bottom-right corner</li>
                                        <li>Hover over dock icons for magnification</li>
                                    </ul>
                                    <p style="font-size: 12px; opacity: 0.7;">Phattaramatee Khumsanpan</p>
                                </div>
                            `
                        });
                        }
                    }
                });
            });

            // Add CSS for card boxes
            const style = document.createElement('style');
            style.textContent = `
                .card-box {
                    background: linear-gradient(135deg, 
                        rgba(255, 255, 255, 0.04) 0%, 
                        rgba(255, 255, 255, 0.02) 50%, 
                        rgba(255, 255, 255, 0.03) 100%);
                    -webkit-backdrop-filter: blur(20px);
                    backdrop-filter: blur(20px);
                    border: 1px solid rgba(255, 255, 255, 0.12);
                    border-radius: 12px;
                    padding: 18px;
                    margin-bottom: 18px;
                    box-shadow: 
                        0 8px 25px rgba(0, 0, 0, 0.08),
                        inset 0 1px 0 rgba(255, 255, 255, 0.06);
                    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
                    position: relative;
                    overflow: hidden;
                }
                .card-box::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: -100%;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg, 
                        transparent, 
                        rgba(255, 255, 255, 0.05), 
                        transparent);
                    transition: left 0.6s ease;
                }
                .card-box:hover {
                    background: linear-gradient(135deg, 
                        rgba(255, 255, 255, 0.08) 0%, 
                        rgba(255, 255, 255, 0.04) 50%, 
                        rgba(255, 255, 255, 0.06) 100%);
                    border: 1px solid rgba(59, 130, 246, 0.25);
                    transform: translateY(-3px);
                    box-shadow: 
                        0 12px 35px rgba(0, 0, 0, 0.12),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1),
                        0 0 30px rgba(59, 130, 246, 0.08);
                }
                .card-box:hover::before {
                    left: 100%;
                }
                .card-box h3 {
                    margin-top: 0;
                    margin-bottom: 12px;
                    font-size: 16px;
                    color: rgba(59, 130, 246, 0.9);
                    font-weight: 600;
                }
                .card-box p {
                    margin: 8px 0;
                    font-size: 14px;
                    line-height: 1.6;
                    color: rgba(255, 255, 255, 0.85);
                }
                .card-box ul {
                    margin: 0;
                    padding-left: 20px;
                }
                .card-box li {
                    margin-bottom: 6px;
                    font-size: 14px;
                    color: rgba(255, 255, 255, 0.8);
                }
                a {
                    color: #3b82f6;
                    text-decoration: none;
                    transition: all 0.3s ease;
                }
                a:hover {
                    color: #60a5fa;
                    text-decoration: underline;
                    text-shadow: 0 0 8px rgba(59, 130, 246, 0.3);
                }
            `;
            document.head.appendChild(style);

            /* ========================================
            FLOATING PARTICLES INITIALIZATION
            ======================================== */
            function createParticles() {
                const particlesContainer = document.getElementById('particles');
                const particleCount = 20; //  50  20

                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    
                    // Random starting position
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 20 + 's';
                    particle.style.animationDuration = (20 + Math.random() * 10) + 's';
                    
                    particlesContainer.appendChild(particle);
                }
            }

            // Initialize particles on load
            window.addEventListener('load', createParticles);

            /* ========================================
            INITIALIZATION
            ======================================== */
            window.addEventListener('load', () => {
                // Create welcome window
                new AppWindow({
                    title: 'Welcome',
                    app: 'about',
                    width: 550,
                    height: 380,
                    x: window.innerWidth / 2 - 275,
                    y: window.innerHeight / 2 - 190,
                    content: `
                        <div class="portfolio-window">
                            <h1>Welcome Portfolio</h1>
                            <p>haha you like me? okay i like you too and you so cute</p>
                            <p><strong>What is it? yep is my portfolio naaa</strong></p>
                            <ul style="margin-left: 20px; margin-bottom: 16px; font-size: 13px;">
                                <li>Click dock icons to open applications</li>
                                <li>Drag windows by their title bar</li>
                                <li>Resize windows from the bottom-right corner</li>
                                <li>Use Safari to browse websites</li>
                                <li>Hover over dock icons for magnification</li>
                            </ul>
                            <p style="font-size: 12px; opacity: 0.7;">Phattaramatee Khumsanpan</p>
                        </div>
                    `
                });
            });

            /* ========================================
            WINDOW MANAGEMENT ON RESIZE
            ======================================== */
            function constrainWindows() {
                system.windows.forEach(w => {
                    const padding = 10;
                    
                    // Keep windows within viewport
                    if (w.x + w.width > window.innerWidth - padding) {
                        w.x = window.innerWidth - w.width - padding;
                    }
                    if (w.x < padding) {
                        w.x = padding;
                    }
                    if (w.y + w.height > window.innerHeight - 80 - padding) {
                        w.y = window.innerHeight - w.height - 80 - padding;
                    }
                    if (w.y < 24 + padding) {
                        w.y = 24 + padding;
                    }
                    
                    w.element.style.left = w.x + 'px';
                    w.element.style.top = w.y + 'px';
                });
            }

            window.addEventListener('resize', () => {
                constrainWindows();
            });

            // Constrain windows on load
            window.addEventListener('load', constrainWindows);

            /* ========================================
            KEYBOARD SHORTCUTS
            ======================================== */
            document.addEventListener('keydown', (e) => {
                // Cmd/Ctrl + N: New Safari window
                if ((e.metaKey || e.ctrlKey) && e.key === 'n') {
                    e.preventDefault();
                    new SafariWindow();
                }
                
                // Cmd/Ctrl + W: Close active window
                if ((e.metaKey || e.ctrlKey) && e.key === 'w') {
                    e.preventDefault();
                    if (system.activeWindow) {
                        system.activeWindow.close();
                    }
                }
                
                // Cmd/Ctrl + M: Minimize active window
                if ((e.metaKey || e.ctrlKey) && e.key === 'm') {
                    e.preventDefault();
                    if (system.activeWindow) {
                        system.activeWindow.minimize();
                    }
                }
                
                // Cmd/Ctrl + F: Focus address bar in Safari
                if ((e.metaKey || e.ctrlKey) && e.key === 'f') {
                    if (system.activeWindow instanceof SafariWindow) {
                        e.preventDefault();
                        const addressBar = document.getElementById('safari-address-bar');
                        if (addressBar) {
                            addressBar.focus();
                            addressBar.select();
                        }
                    }
                }
            });
        </script>

        <!-- Simple Mobile CSS -->
        <style>
            @media (max-width: 768px) {
                /*  */
                .desktop {
                    overflow-y: auto !important;
                    overflow-x: hidden !important;
                }

                .menu-bar {
                    height: 18px !important;
                    font-size: 10px !important;
                    padding: 0 8px !important;
                }

                .dock-container {
                    bottom: 10px !important;
                    max-width: 95vw !important;
                }

                .dock {
                    padding: 6px 10px !important;
                    gap: 4px !important;
                    border-radius: 14px !important;
                }

                .dock-item {
                    width: 35px !important;
                    height: 35px !important;
                    border-radius: 10px !important;
                }

                .dock-item svg,
                .dock-item img {
                    width: 20px !important;
                    height: 20px !important;
                }

                .dock-tooltip {
                    display: none !important;
                }

                .window {
                    min-width: 250px !important;
                    max-width: 95vw !important;
                    max-height: 80vh !important;
                    border-radius: 12px !important;
                }

                .window-titlebar {
                    height: 24px !important;
                    font-size: 11px !important;
                }

                .window-control-btn {
                    width: 8px !important;
                    height: 8px !important;
                }

                .control-center {
                    width: 260px !important;
                    max-height: 65vh !important;
                    right: 5px !important;
                    background: rgba(30, 30, 35, 0.85) !important;
                    -webkit-backdrop-filter: blur(20px) !important;
                    backdrop-filter: blur(20px) !important;
                    border: 1px solid rgba(255, 255, 255, 0.15) !important;
                    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5) !important;
                }

                /*  Control Center Overlay */
                .control-center-overlay {
                    -webkit-backdrop-filter: blur(10px) !important;
                    backdrop-filter: blur(10px) !important;
                    background: rgba(0, 0, 0, 0.1) !important;
                }

                /*  Control Center  */
                .control-center.liquid-glass-cc {
                    background: linear-gradient(135deg, 
                        rgba(20, 25, 40, 0.6) 0%, 
                        rgba(30, 35, 50, 0.5) 50%, 
                        rgba(20, 25, 40, 0.6) 100%) !important;
                    -webkit-backdrop-filter: blur(40px) !important;
                    backdrop-filter: blur(40px) !important;
                    border: 1px solid rgba(255, 255, 255, 0.2) !important;
                    box-shadow: 
                        0 25px 80px rgba(0, 0, 0, 0.3),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
                }

                /* Fallback  backdrop-filter */
                @supports not (backdrop-filter: blur(1px)) {
                    .control-center {
                        background: rgba(20, 25, 40, 0.9) !important;
                    }
                }

                /* Force blur effect */
                .control-center::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: inherit;
                    -webkit-backdrop-filter: blur(30px);
                    backdrop-filter: blur(30px);
                    border-radius: inherit;
                    z-index: -1;
                }

                .safari-unified-toolbar {
                    height: 36px !important;
                    padding: 4px 8px !important;
                }

                .safari-button {
                    width: 24px !important;
                    height: 24px !important;
                    font-size: 11px !important;
                }

                .address-bar {
                    height: 24px !important;
                    font-size: 11px !important;
                    padding: 0 10px !important;
                }

                .portfolio-window {
                    padding: 12px !important;
                    font-size: 12px !important;
                }

                .particles {
                    display: none !important;
                }

                .mobile-mode-selector,
                .rotation-request {
                    display: none !important;
                }

                .window-resizer {
                    width: 25px !important;
                    height: 25px !important;
                }

                .cc-toggle {
                    padding: 12px 10px !important;
                    min-height: 50px !important;
                    font-size: 11px !important;
                }

                .timeline-content {
                    padding: 12px !important;
                }

                .timeline-title {
                    font-size: 13px !important;
                }

                .timeline-description {
                    font-size: 11px !important;
                }

                .card-box {
                    padding: 12px !important;
                    margin-bottom: 12px !important;
                }

                .card-box h3 {
                    font-size: 14px !important;
                }

                .card-box p {
                    font-size: 12px !important;
                }
            }
        </style>
    </body>
    </html>
